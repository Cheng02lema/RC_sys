2024-03-15 00:00:44.945 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=txrua304] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:00:44.968 [http-nio-80-exec-5] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session txrua304
2024-03-15 00:00:44.971 [clientInboundChannel-173] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=txrua304
2024-03-15 00:00:44.972 [clientOutboundChannel-114] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=txrua304}], simpSessionId=txrua304}]
2024-03-15 00:00:48.313 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:00:48.313 [http-nio-80-exec-2] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:00:48.327 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:00:48.327 [http-nio-80-exec-2] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:00:48.332 [http-nio-80-exec-2] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:48.342 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:00:48.350 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:00:48.352 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:00:48.353 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:00:48.353 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:00:48.354 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:00:48.354 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:00:48.355 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = ? AND p.delete_time IS NULL
2024-03-15 00:00:48.355 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer)
2024-03-15 00:00:48.355 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:00:48.356 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:48.356 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:00:48.356 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = ? and p.delete_time is null LIMIT ?
2024-03-15 00:00:48.357 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:00:48.357 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:48.357 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710432048317", parameters={masked}
2024-03-15 00:00:48.357 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:00:48.358 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710432048317
2024-03-15 00:00:48.358 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - <==      Total: 10
2024-03-15 00:00:48.358 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:48.358 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:48.358 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:00:48.359 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:48.388 [http-nio-80-exec-4] "GET /ws/ep/281/ybmlswnp/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/281/ybmlswnp/websocket", parameters={}
2024-03-15 00:00:48.390 [http-nio-80-exec-4] "GET /ws/ep/281/ybmlswnp/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:00:48.391 [http-nio-80-exec-4] "GET /ws/ep/281/ybmlswnp/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/281/ybmlswnp/websocket
2024-03-15 00:00:48.397 [http-nio-80-exec-4] "GET /ws/ep/281/ybmlswnp/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:00:48.399 [http-nio-80-exec-4] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ybmlswnp]
2024-03-15 00:00:48.443 [clientInboundChannel-176] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=ybmlswnp
2024-03-15 00:00:48.451 [clientInboundChannel-178] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=ybmlswnp, lookupDestination='/queue/chat'
2024-03-15 00:00:48.451 [clientInboundChannel-179] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=ybmlswnp
2024-03-15 00:00:48.452 [clientInboundChannel-178] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:00:49.521 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:00:49.522 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:00:49.524 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:00:49.525 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:00:49.526 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:00:49.527 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:00:49.527 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:00:49.528 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:00:49.529 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:00:49.529 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:00:49.529 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:49.531 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:00:49.533 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:49.535 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:00:49.536 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:00:49.546 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:00:49.549 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:00:49.550 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:00:49.552 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:00:49.554 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:00:49.555 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:00:49.561 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:00:49.561 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:00:49.561 [http-nio-80-exec-5] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710432049545", parameters={masked}
2024-03-15 00:00:49.562 [http-nio-80-exec-5] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:00:49.562 [http-nio-80-exec-5] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710432049545
2024-03-15 00:00:49.562 [http-nio-80-exec-5] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:49.562 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:00:49.563 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:49.563 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:00:49.565 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:49.566 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:49.566 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:00:49.567 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:49.568 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:49.568 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:00:49.570 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:49.571 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:49.572 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:00:49.573 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:49.574 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:49.574 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:00:49.576 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:49.577 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:49.577 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:00:49.578 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:49.579 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:49.579 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:00:49.580 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:49.580 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:49.580 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:00:49.582 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:49.583 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:49.583 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:00:49.584 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:49.585 [http-nio-80-exec-2] "GET /ws/ep/462/lpkghsth/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/462/lpkghsth/websocket", parameters={}
2024-03-15 00:00:49.585 [http-nio-80-exec-2] "GET /ws/ep/462/lpkghsth/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:00:49.586 [http-nio-80-exec-2] "GET /ws/ep/462/lpkghsth/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/462/lpkghsth/websocket
2024-03-15 00:00:49.586 [http-nio-80-exec-2] "GET /ws/ep/462/lpkghsth/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:00:49.587 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=lpkghsth]
2024-03-15 00:00:49.591 [clientInboundChannel-182] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=lpkghsth
2024-03-15 00:00:49.602 [clientInboundChannel-185] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=lpkghsth
2024-03-15 00:00:49.602 [clientInboundChannel-184] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=lpkghsth, lookupDestination='/queue/chat'
2024-03-15 00:00:49.602 [clientInboundChannel-184] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:00:50.968 [MessageBroker-4] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [txrua304]
2024-03-15 00:00:52.524 [http-nio-80-exec-7] "OPTIONS /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/category/show", parameters={}
2024-03-15 00:00:52.524 [http-nio-80-exec-4] "OPTIONS /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/position/page/keyword?page=0&count=12&keyword=", parameters={masked}
2024-03-15 00:00:52.525 [http-nio-80-exec-3] "OPTIONS /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/position/sort", parameters={}
2024-03-15 00:00:52.525 [http-nio-80-exec-3] "OPTIONS /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#sort()
2024-03-15 00:00:52.525 [http-nio-80-exec-3] "OPTIONS /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:52.526 [http-nio-80-exec-4] "OPTIONS /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#pageKeyword(Integer, Integer, String)
2024-03-15 00:00:52.526 [http-nio-80-exec-3] "OPTIONS /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/company/find", parameters={}
2024-03-15 00:00:52.526 [http-nio-80-exec-3] "OPTIONS /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CompanyController#findHot()
2024-03-15 00:00:52.527 [http-nio-80-exec-3] "OPTIONS /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:52.527 [http-nio-80-exec-7] "OPTIONS /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CategoryController#show()
2024-03-15 00:00:52.527 [http-nio-80-exec-7] "OPTIONS /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:52.527 [http-nio-80-exec-4] "OPTIONS /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:52.531 [http-nio-80-exec-5] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/category/show", parameters={}
2024-03-15 00:00:52.531 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/sort", parameters={}
2024-03-15 00:00:52.531 [http-nio-80-exec-5] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CategoryController#show()
2024-03-15 00:00:52.531 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#sort()
2024-03-15 00:00:52.532 [http-nio-80-exec-4] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/company/find", parameters={}
2024-03-15 00:00:52.532 [http-nio-80-exec-4] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CompanyController#findHot()
2024-03-15 00:00:52.533 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==>  Preparing: SELECT p.*,c.name as company_name,c.logo FROM position p,company c where p.company_id = c.id and p.delete_time is null and p.state = 1 ORDER BY hits desc LIMIT 0,8
2024-03-15 00:00:52.534 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==> Parameters: 
2024-03-15 00:00:52.535 [http-nio-80-exec-5] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==>  Preparing: SELECT * FROM category where delete_time is null LIMIT 0,9
2024-03-15 00:00:52.535 [http-nio-80-exec-5] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==> Parameters: 
2024-03-15 00:00:52.536 [http-nio-80-exec-4] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==>  Preparing: SELECT * FROM `company` where delete_time is null and state = 1 LIMIT 0,8
2024-03-15 00:00:52.539 [http-nio-80-exec-4] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==> Parameters: 
2024-03-15 00:00:52.542 [http-nio-80-exec-4] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - <==      Total: 8
2024-03-15 00:00:52.542 [http-nio-80-exec-4] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:52.542 [http-nio-80-exec-4] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CompanyDO(name=阿里巴巴, foreignName=Alibaba, city=中国杭州1, logo=https://bjck.xilikeli.cn/61007a1aced342c (truncated)...]
2024-03-15 00:00:52.543 [http-nio-80-exec-4] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:52.545 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - <==      Total: 8
2024-03-15 00:00:52.546 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:52.547 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/keyword?page=0&count=12&keyword=", parameters={masked}
2024-03-15 00:00:52.547 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#pageKeyword(Integer, Integer, String)
2024-03-15 00:00:52.546 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[PositionResultDO(CategoryName=null, CompanyName=阿里巴巴, CompanyDesc=null, logo=https://bjck.xilikeli. (truncated)...]
2024-03-15 00:00:52.548 [http-nio-80-exec-5] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - <==      Total: 9
2024-03-15 00:00:52.551 [http-nio-80-exec-5] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:52.551 [http-nio-80-exec-5] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CategoryDO(name=Java开发, description=这个分类是Java开发), CategoryDO(name=C++开发, description=这个分类是C++开发), C (truncated)...]
2024-03-15 00:00:52.552 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:52.554 [http-nio-80-exec-5] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:52.557 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = 1 AND p.delete_time IS NULL AND p.title LIKE concat('%', ?, '%')
2024-03-15 00:00:52.557 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String)
2024-03-15 00:00:52.560 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,c.logo as logo,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = 1 and p.delete_time is null and p.title like concat('%',?,'%') LIMIT ?
2024-03-15 00:00:52.560 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String), 12(Long)
2024-03-15 00:00:52.562 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - <==      Total: 12
2024-03-15 00:00:52.562 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:52.562 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:00:52.563 [http-nio-80-exec-2] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:53.508 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:00:53.508 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:00:53.508 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:00:53.509 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:00:53.510 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:00:53.511 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:00:53.512 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:00:53.513 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:00:53.513 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:00:53.514 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:00:53.514 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = ? AND p.delete_time IS NULL
2024-03-15 00:00:53.515 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:53.515 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer)
2024-03-15 00:00:53.515 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:00:53.517 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:53.519 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = ? and p.delete_time is null LIMIT ?
2024-03-15 00:00:53.519 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:00:53.521 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - <==      Total: 10
2024-03-15 00:00:53.521 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:53.521 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:00:53.521 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710432053514", parameters={masked}
2024-03-15 00:00:53.522 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:00:53.523 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710432053514
2024-03-15 00:00:53.523 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:53.523 [http-nio-80-exec-9] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:53.542 [http-nio-80-exec-1] "GET /ws/ep/526/rfw4wc2g/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/526/rfw4wc2g/websocket", parameters={}
2024-03-15 00:00:53.543 [http-nio-80-exec-1] "GET /ws/ep/526/rfw4wc2g/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:00:53.544 [http-nio-80-exec-1] "GET /ws/ep/526/rfw4wc2g/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/526/rfw4wc2g/websocket
2024-03-15 00:00:53.546 [http-nio-80-exec-1] "GET /ws/ep/526/rfw4wc2g/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:00:53.547 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=rfw4wc2g]
2024-03-15 00:00:53.556 [clientInboundChannel-187] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=rfw4wc2g
2024-03-15 00:00:53.558 [clientInboundChannel-175] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=rfw4wc2g
2024-03-15 00:00:53.558 [clientInboundChannel-173] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=rfw4wc2g, lookupDestination='/queue/chat'
2024-03-15 00:00:53.559 [clientInboundChannel-173] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:00:55.117 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:00:55.118 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:00:55.123 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:00:55.124 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:00:55.132 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:00:55.135 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:00:55.136 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:00:55.138 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:00:55.142 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:00:55.143 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:00:55.145 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:00:55.145 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:00:55.148 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710432055127", parameters={masked}
2024-03-15 00:00:55.148 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:00:55.149 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:00:55.149 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:55.150 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710432055127
2024-03-15 00:00:55.150 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:00:55.150 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:55.152 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:55.153 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:55.153 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:00:55.154 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:55.155 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:55.155 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:00:55.157 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:55.158 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:55.158 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:00:55.159 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:55.160 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:55.160 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:00:55.162 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:55.163 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:55.163 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:00:55.164 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:55.165 [http-nio-80-exec-5] "GET /ws/ep/010/nqve5zkz/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/010/nqve5zkz/websocket", parameters={}
2024-03-15 00:00:55.166 [http-nio-80-exec-5] "GET /ws/ep/010/nqve5zkz/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:00:55.166 [http-nio-80-exec-5] "GET /ws/ep/010/nqve5zkz/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/010/nqve5zkz/websocket
2024-03-15 00:00:55.166 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:55.167 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:00:55.168 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:55.171 [http-nio-80-exec-5] "GET /ws/ep/010/nqve5zkz/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:00:55.171 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:00:55.171 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:00:55.173 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=nqve5zkz]
2024-03-15 00:00:55.173 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:00:55.174 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:00:55.174 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:00:55.176 [clientInboundChannel-179] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=nqve5zkz
2024-03-15 00:00:55.176 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:00:55.186 [clientInboundChannel-181] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=nqve5zkz
2024-03-15 00:00:55.186 [clientInboundChannel-180] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=nqve5zkz, lookupDestination='/queue/chat'
2024-03-15 00:00:55.186 [clientInboundChannel-180] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:14:11.131 [http-nio-80-exec-8] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=lpkghsth] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:14:11.136 [http-nio-80-exec-8] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session lpkghsth
2024-03-15 00:14:11.142 [clientInboundChannel-189] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=lpkghsth
2024-03-15 00:14:11.143 [clientOutboundChannel-119] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=lpkghsth}], simpSessionId=lpkghsth}]
2024-03-15 00:14:16.983 [http-nio-80-exec-10] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:14:16.986 [http-nio-80-exec-10] "OPTIONS /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:14:16.993 [http-nio-80-exec-10] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:14:16.996 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:14:16.996 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:14:17.005 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:14:17.006 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:14:17.022 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:14:17.022 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:14:17.025 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:14:17.025 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:14:17.043 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:14:17.044 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:14:17.044 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:14:17.045 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:14:17.045 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:14:17.045 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:14:17.045 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:14:17.046 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:14:17.047 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:14:17.047 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:14:17.047 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:14:17.047 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:14:17.048 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:14:17.051 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:14:17.051 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:14:17.052 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:14:17.053 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:14:17.053 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:14:17.055 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:14:17.055 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:14:17.055 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:14:17.056 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:14:17.056 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:14:17.056 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:14:17.056 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:14:17.057 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:14:17.057 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:14:17.057 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:14:17.057 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:14:17.057 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:14:17.058 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:14:17.058 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:14:17.058 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:14:17.058 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:14:17.059 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:14:17.059 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:14:17.059 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:14:17.059 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:14:17.059 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:14:17.060 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:14:17.060 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:14:17.060 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:14:17.061 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:14:17.570 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710432857564", parameters={masked}
2024-03-15 00:14:17.571 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:14:17.571 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710432857564
2024-03-15 00:14:17.572 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:14:17.582 [http-nio-80-exec-6] "GET /ws/ep/675/bd01fxnh/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/675/bd01fxnh/websocket", parameters={}
2024-03-15 00:14:17.583 [http-nio-80-exec-6] "GET /ws/ep/675/bd01fxnh/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:14:17.584 [http-nio-80-exec-6] "GET /ws/ep/675/bd01fxnh/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/675/bd01fxnh/websocket
2024-03-15 00:14:17.585 [http-nio-80-exec-6] "GET /ws/ep/675/bd01fxnh/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:14:17.586 [http-nio-80-exec-6] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=bd01fxnh]
2024-03-15 00:14:17.591 [clientInboundChannel-192] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=bd01fxnh
2024-03-15 00:14:17.599 [clientInboundChannel-194] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=bd01fxnh, lookupDestination='/queue/chat'
2024-03-15 00:14:17.599 [clientInboundChannel-194] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:14:17.600 [clientInboundChannel-195] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=bd01fxnh
2024-03-15 00:14:20.949 [MessageBroker-3] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [lpkghsth]
2024-03-15 00:16:21.176 [http-nio-80-exec-9] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:16:21.178 [http-nio-80-exec-9] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:16:21.179 [http-nio-80-exec-9] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:21.187 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:16:21.187 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:16:21.203 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = ? AND p.delete_time IS NULL
2024-03-15 00:16:21.204 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer)
2024-03-15 00:16:21.208 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = ? and p.delete_time is null LIMIT ?
2024-03-15 00:16:21.208 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:16:21.210 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710432981172", parameters={masked}
2024-03-15 00:16:21.210 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:16:21.210 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710432981172
2024-03-15 00:16:21.210 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - <==      Total: 10
2024-03-15 00:16:21.210 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:21.211 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:21.211 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:16:21.212 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:21.234 [http-nio-80-exec-2] "GET /ws/ep/808/qtiaslw1/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/808/qtiaslw1/websocket", parameters={}
2024-03-15 00:16:21.234 [http-nio-80-exec-2] "GET /ws/ep/808/qtiaslw1/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:16:21.234 [http-nio-80-exec-2] "GET /ws/ep/808/qtiaslw1/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/808/qtiaslw1/websocket
2024-03-15 00:16:21.236 [http-nio-80-exec-2] "GET /ws/ep/808/qtiaslw1/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:16:21.236 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qtiaslw1]
2024-03-15 00:16:21.253 [clientInboundChannel-198] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=qtiaslw1
2024-03-15 00:16:21.258 [clientInboundChannel-200] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=qtiaslw1, lookupDestination='/queue/chat'
2024-03-15 00:16:21.258 [clientInboundChannel-201] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=qtiaslw1
2024-03-15 00:16:21.258 [clientInboundChannel-200] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:16:23.437 [http-nio-80-exec-3] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/category/show", parameters={}
2024-03-15 00:16:23.438 [http-nio-80-exec-3] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CategoryController#show()
2024-03-15 00:16:23.444 [http-nio-80-exec-3] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==>  Preparing: SELECT * FROM category where delete_time is null LIMIT 0,9
2024-03-15 00:16:23.444 [http-nio-80-exec-3] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==> Parameters: 
2024-03-15 00:16:23.446 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/sort", parameters={}
2024-03-15 00:16:23.447 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/company/find", parameters={}
2024-03-15 00:16:23.447 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CompanyController#findHot()
2024-03-15 00:16:23.447 [http-nio-80-exec-3] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - <==      Total: 9
2024-03-15 00:16:23.448 [http-nio-80-exec-3] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:23.448 [http-nio-80-exec-3] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CategoryDO(name=Java开发, description=这个分类是Java开发), CategoryDO(name=C++开发, description=这个分类是C++开发), C (truncated)...]
2024-03-15 00:16:23.449 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==>  Preparing: SELECT * FROM `company` where delete_time is null and state = 1 LIMIT 0,8
2024-03-15 00:16:23.449 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==> Parameters: 
2024-03-15 00:16:23.449 [http-nio-80-exec-3] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:23.446 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/keyword?page=0&count=12&keyword=", parameters={masked}
2024-03-15 00:16:23.450 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#pageKeyword(Integer, Integer, String)
2024-03-15 00:16:23.451 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#sort()
2024-03-15 00:16:23.455 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - <==      Total: 8
2024-03-15 00:16:23.456 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:23.456 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CompanyDO(name=阿里巴巴, foreignName=Alibaba, city=中国杭州1, logo=https://bjck.xilikeli.cn/61007a1aced342c (truncated)...]
2024-03-15 00:16:23.468 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:23.471 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==>  Preparing: SELECT p.*,c.name as company_name,c.logo FROM position p,company c where p.company_id = c.id and p.delete_time is null and p.state = 1 ORDER BY hits desc LIMIT 0,8
2024-03-15 00:16:23.471 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==> Parameters: 
2024-03-15 00:16:23.472 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = 1 AND p.delete_time IS NULL AND p.title LIKE concat('%', ?, '%')
2024-03-15 00:16:23.472 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String)
2024-03-15 00:16:23.474 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - <==      Total: 8
2024-03-15 00:16:23.475 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:23.476 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[PositionResultDO(CategoryName=null, CompanyName=阿里巴巴, CompanyDesc=null, logo=https://bjck.xilikeli. (truncated)...]
2024-03-15 00:16:23.476 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,c.logo as logo,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = 1 and p.delete_time is null and p.title like concat('%',?,'%') LIMIT ?
2024-03-15 00:16:23.477 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String), 12(Long)
2024-03-15 00:16:23.477 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:23.479 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - <==      Total: 12
2024-03-15 00:16:23.480 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:23.481 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:16:23.482 [http-nio-80-exec-1] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:25.340 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:16:25.340 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:16:25.344 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:16:25.344 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:16:25.344 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:16:25.345 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:16:25.347 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:16:25.350 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:16:25.350 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:16:25.350 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:16:25.351 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:16:25.352 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:16:25.352 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:16:25.352 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:25.353 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:16:25.354 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:25.354 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:16:25.354 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:16:25.356 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:16:25.359 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:16:25.360 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:16:25.361 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:16:25.361 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:16:25.363 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:16:25.365 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:25.365 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:16:25.365 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710432985353", parameters={masked}
2024-03-15 00:16:25.366 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:16:25.366 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710432985353
2024-03-15 00:16:25.366 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:25.366 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:25.366 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:25.366 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:16:25.367 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:25.368 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:25.368 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:16:25.368 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:25.369 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:25.369 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:16:25.369 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:25.370 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:25.370 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:16:25.370 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:25.370 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:25.370 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:16:25.371 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:25.371 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:25.371 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:16:25.372 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:25.372 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:25.372 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:16:25.372 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:25.372 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:25.373 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:16:25.373 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:25.439 [http-nio-80-exec-5] "GET /ws/ep/330/u1wthcdk/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/330/u1wthcdk/websocket", parameters={}
2024-03-15 00:16:25.440 [http-nio-80-exec-5] "GET /ws/ep/330/u1wthcdk/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:16:25.440 [http-nio-80-exec-5] "GET /ws/ep/330/u1wthcdk/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/330/u1wthcdk/websocket
2024-03-15 00:16:25.441 [http-nio-80-exec-5] "GET /ws/ep/330/u1wthcdk/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:16:25.442 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=u1wthcdk]
2024-03-15 00:16:25.447 [clientInboundChannel-204] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=u1wthcdk
2024-03-15 00:16:25.451 [clientInboundChannel-206] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=u1wthcdk, lookupDestination='/queue/chat'
2024-03-15 00:16:25.451 [clientInboundChannel-206] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:16:25.451 [clientInboundChannel-207] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=u1wthcdk
2024-03-15 00:16:42.566 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:16:42.569 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:16:42.586 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:16:42.586 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:16:42.586 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433002570", parameters={masked}
2024-03-15 00:16:42.588 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:16:42.588 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:16:42.588 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433002570
2024-03-15 00:16:42.588 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:16:42.589 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:42.589 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:16:42.590 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:16:42.591 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:16:42.591 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:16:42.593 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:16:42.593 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:16:42.593 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:16:42.593 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:16:42.594 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:16:42.594 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:16:42.595 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:42.595 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:16:42.595 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:16:42.596 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:42.596 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:16:42.597 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:16:42.597 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:16:42.598 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:16:42.598 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:42.598 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:16:42.599 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:42.600 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:42.600 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:16:42.600 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:42.601 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:42.601 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:16:42.601 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:42.601 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:42.601 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:16:42.602 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:42.602 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:42.602 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:16:42.603 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:42.604 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:42.604 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:16:42.610 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:42.612 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:42.612 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:16:42.613 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:42.614 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:16:42.614 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:16:42.615 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:16:42.616 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:16:42.616 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:16:42.618 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:16:42.706 [http-nio-80-exec-5] "GET /ws/ep/721/kqntsqid/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/721/kqntsqid/websocket", parameters={}
2024-03-15 00:16:42.707 [http-nio-80-exec-5] "GET /ws/ep/721/kqntsqid/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:16:42.707 [http-nio-80-exec-5] "GET /ws/ep/721/kqntsqid/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/721/kqntsqid/websocket
2024-03-15 00:16:42.708 [http-nio-80-exec-5] "GET /ws/ep/721/kqntsqid/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:16:42.708 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=kqntsqid]
2024-03-15 00:16:42.713 [clientInboundChannel-210] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=kqntsqid
2024-03-15 00:16:42.717 [clientInboundChannel-197] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=kqntsqid
2024-03-15 00:16:42.717 [clientInboundChannel-212] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=kqntsqid, lookupDestination='/queue/chat'
2024-03-15 00:16:42.717 [clientInboundChannel-212] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:16:44.046 [http-nio-80-exec-7] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=kqntsqid] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:16:44.046 [http-nio-80-exec-7] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session kqntsqid
2024-03-15 00:16:44.051 [clientInboundChannel-198] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=kqntsqid
2024-03-15 00:16:44.054 [clientOutboundChannel-124] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=kqntsqid}], simpSessionId=kqntsqid}]
2024-03-15 00:16:50.951 [MessageBroker-5] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [kqntsqid]
2024-03-15 00:19:33.588 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=bd01fxnh] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:19:33.590 [http-nio-80-exec-1] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session bd01fxnh
2024-03-15 00:19:33.591 [clientInboundChannel-214] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=bd01fxnh
2024-03-15 00:19:33.592 [clientOutboundChannel-125] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=bd01fxnh}], simpSessionId=bd01fxnh}]
2024-03-15 00:19:35.231 [http-nio-80-exec-8] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=u1wthcdk] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:19:35.231 [http-nio-80-exec-8] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session u1wthcdk
2024-03-15 00:19:35.231 [http-nio-80-exec-3] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=cxgw2h5r] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:19:35.240 [http-nio-80-exec-3] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session cxgw2h5r
2024-03-15 00:19:35.242 [http-nio-80-exec-10] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qtiaslw1] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:19:35.243 [clientInboundChannel-217] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=u1wthcdk
2024-03-15 00:19:35.243 [http-nio-80-exec-10] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session qtiaslw1
2024-03-15 00:19:35.245 [clientOutboundChannel-126] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=u1wthcdk}], simpSessionId=u1wthcdk}]
2024-03-15 00:19:35.245 [clientInboundChannel-221] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=qtiaslw1
2024-03-15 00:19:35.246 [clientInboundChannel-223] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=cxgw2h5r
2024-03-15 00:19:35.246 [clientOutboundChannel-127] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=qtiaslw1}], simpSessionId=qtiaslw1}]
2024-03-15 00:19:35.246 [clientOutboundChannel-128] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=cxgw2h5r}], simpSessionId=cxgw2h5r}]
2024-03-15 00:19:36.772 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:19:36.776 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:19:36.834 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:19:36.834 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:19:36.837 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:19:36.838 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:19:36.838 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:19:36.838 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433176702", parameters={masked}
2024-03-15 00:19:36.838 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:19:36.839 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:19:36.839 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:19:36.839 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:19:36.839 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433176702
2024-03-15 00:19:36.839 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:19:36.840 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:19:36.840 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:19:36.842 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:19:36.847 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:19:36.847 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:19:36.856 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:19:36.859 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:19:36.859 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:19:36.860 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:19:36.862 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:19:36.862 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:19:36.863 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:19:36.864 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:19:36.865 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:19:36.866 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:36.866 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:19:36.868 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:36.868 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:36.869 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:19:36.870 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:36.871 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:36.871 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:19:36.872 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:36.873 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:36.873 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:19:36.873 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:36.874 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:36.874 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:19:36.874 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:36.875 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:36.875 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:19:36.876 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:36.877 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:36.877 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:19:36.877 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:36.877 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:36.877 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:19:36.878 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:36.878 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:19:36.878 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:19:36.879 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:19:36.943 [http-nio-80-exec-6] "GET /ws/ep/325/uwyns5s4/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/325/uwyns5s4/websocket", parameters={}
2024-03-15 00:19:36.944 [http-nio-80-exec-6] "GET /ws/ep/325/uwyns5s4/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:19:36.945 [http-nio-80-exec-6] "GET /ws/ep/325/uwyns5s4/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/325/uwyns5s4/websocket
2024-03-15 00:19:36.947 [http-nio-80-exec-6] "GET /ws/ep/325/uwyns5s4/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:19:36.948 [http-nio-80-exec-6] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=uwyns5s4]
2024-03-15 00:19:36.973 [clientInboundChannel-226] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=uwyns5s4
2024-03-15 00:19:37.003 [clientInboundChannel-213] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=uwyns5s4
2024-03-15 00:19:37.005 [clientInboundChannel-228] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=uwyns5s4, lookupDestination='/queue/chat'
2024-03-15 00:19:37.005 [clientInboundChannel-228] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:19:38.380 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:19:38.380 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:19:38.382 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:19:38.382 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:19:38.382 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:19:38.382 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:19:38.382 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:19:38.383 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:19:38.383 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:19:38.384 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:19:38.384 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:19:38.384 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:19:38.384 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:19:38.384 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:19:38.384 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:19:38.384 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:19:38.385 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:19:38.385 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:19:38.385 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:19:38.386 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:19:38.386 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:19:38.386 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:19:38.386 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:19:38.386 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:19:38.387 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:38.387 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:19:38.387 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:38.387 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:38.387 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:19:38.388 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:38.388 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:38.388 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:19:38.388 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:38.388 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:38.388 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:19:38.389 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:38.389 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:38.389 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:19:38.389 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:38.389 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:38.390 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:19:38.390 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:38.390 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:38.390 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:19:38.390 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:38.391 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:19:38.391 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:19:38.391 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:19:38.391 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:19:38.397 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:19:38.397 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:19:39.273 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433179255", parameters={masked}
2024-03-15 00:19:39.276 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:19:39.277 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433179255
2024-03-15 00:19:39.277 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:19:39.298 [http-nio-80-exec-3] "GET /ws/ep/385/nfyddetx/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/385/nfyddetx/websocket", parameters={}
2024-03-15 00:19:39.300 [http-nio-80-exec-3] "GET /ws/ep/385/nfyddetx/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:19:39.301 [http-nio-80-exec-3] "GET /ws/ep/385/nfyddetx/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/385/nfyddetx/websocket
2024-03-15 00:19:39.302 [http-nio-80-exec-3] "GET /ws/ep/385/nfyddetx/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:19:39.303 [http-nio-80-exec-3] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=nfyddetx]
2024-03-15 00:19:39.362 [clientInboundChannel-216] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=nfyddetx
2024-03-15 00:19:39.378 [clientInboundChannel-217] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=nfyddetx
2024-03-15 00:19:39.378 [clientInboundChannel-220] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=nfyddetx, lookupDestination='/queue/chat'
2024-03-15 00:19:39.378 [clientInboundChannel-220] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:19:40.951 [MessageBroker-2] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 4 sessions: [cxgw2h5r, bd01fxnh, u1wthcdk, qtiaslw1]
2024-03-15 00:20:55.092 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=nfyddetx] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:20:55.094 [http-nio-80-exec-9] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session nfyddetx
2024-03-15 00:20:55.098 [clientInboundChannel-230] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=nfyddetx
2024-03-15 00:20:55.102 [clientOutboundChannel-131] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=nfyddetx}], simpSessionId=nfyddetx}]
2024-03-15 00:20:59.207 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:20:59.209 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:20:59.226 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:20:59.227 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:20:59.228 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:20:59.231 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:20:59.243 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:20:59.244 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:20:59.244 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:20:59.246 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:20:59.246 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:20:59.247 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:20:59.247 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:20:59.247 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:20:59.248 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:20:59.248 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:20:59.249 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:20:59.249 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:20:59.249 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:20:59.251 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:20:59.251 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:20:59.252 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:20:59.252 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:20:59.253 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:20:59.253 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:20:59.253 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:20:59.254 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:20:59.254 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:20:59.254 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:20:59.255 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:20:59.255 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:20:59.255 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:20:59.256 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:20:59.256 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:20:59.256 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:20:59.257 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:20:59.257 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:20:59.257 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:20:59.257 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:20:59.258 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:20:59.258 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:20:59.258 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:20:59.258 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:20:59.258 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:20:59.259 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:20:59.259 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:20:59.259 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:20:59.259 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:20:59.260 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:20:59.260 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:20:59.260 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:20:59.578 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433259568", parameters={masked}
2024-03-15 00:20:59.579 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:20:59.579 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433259568
2024-03-15 00:20:59.580 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:20:59.605 [http-nio-80-exec-10] "GET /ws/ep/157/0ss05cy1/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/157/0ss05cy1/websocket", parameters={}
2024-03-15 00:20:59.605 [http-nio-80-exec-10] "GET /ws/ep/157/0ss05cy1/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:20:59.606 [http-nio-80-exec-10] "GET /ws/ep/157/0ss05cy1/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/157/0ss05cy1/websocket
2024-03-15 00:20:59.608 [http-nio-80-exec-10] "GET /ws/ep/157/0ss05cy1/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:20:59.610 [http-nio-80-exec-10] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=0ss05cy1]
2024-03-15 00:20:59.625 [clientInboundChannel-233] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=0ss05cy1
2024-03-15 00:20:59.714 [clientInboundChannel-236] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=0ss05cy1
2024-03-15 00:20:59.714 [clientInboundChannel-235] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=0ss05cy1, lookupDestination='/queue/chat'
2024-03-15 00:20:59.715 [clientInboundChannel-235] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:21:00.948 [MessageBroker-8] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [nfyddetx]
2024-03-15 00:21:17.264 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=0ss05cy1] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:21:17.266 [http-nio-80-exec-2] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 0ss05cy1
2024-03-15 00:21:17.269 [clientInboundChannel-239] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=0ss05cy1
2024-03-15 00:21:17.271 [clientOutboundChannel-133] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=0ss05cy1}], simpSessionId=0ss05cy1}]
2024-03-15 00:21:20.639 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:21:20.641 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:21:20.649 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:21:20.649 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:21:20.654 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:21:20.654 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:21:20.655 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:21:20.655 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:21:20.658 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:21:20.658 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:21:20.660 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:21:20.660 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:21:20.660 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:21:20.660 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:21:20.661 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:21:20.661 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:21:20.663 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:21:20.663 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:21:20.664 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:21:20.664 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:21:20.666 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:21:20.667 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:21:20.667 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:21:20.679 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:21:20.680 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:21:20.680 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:21:20.681 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:21:20.682 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:21:20.682 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:21:20.682 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:21:20.682 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:21:20.682 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:21:20.683 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:21:20.683 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:21:20.683 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:21:20.683 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:21:20.684 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:21:20.684 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:21:20.684 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:21:20.684 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:21:20.684 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:21:20.685 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:21:20.685 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:21:20.685 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:21:20.687 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:21:20.688 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:21:20.688 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:21:20.689 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:21:20.689 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:21:20.689 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:21:20.690 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:21:20.951 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433280945", parameters={masked}
2024-03-15 00:21:20.951 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:21:20.952 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433280945
2024-03-15 00:21:20.952 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:21:20.989 [http-nio-80-exec-7] "GET /ws/ep/449/q4ynjlha/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/449/q4ynjlha/websocket", parameters={}
2024-03-15 00:21:20.989 [http-nio-80-exec-7] "GET /ws/ep/449/q4ynjlha/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:21:20.990 [http-nio-80-exec-7] "GET /ws/ep/449/q4ynjlha/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/449/q4ynjlha/websocket
2024-03-15 00:21:20.992 [http-nio-80-exec-7] "GET /ws/ep/449/q4ynjlha/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:21:20.993 [http-nio-80-exec-7] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=q4ynjlha]
2024-03-15 00:21:20.999 [clientInboundChannel-242] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=q4ynjlha
2024-03-15 00:21:21.018 [clientInboundChannel-244] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=q4ynjlha, lookupDestination='/queue/chat'
2024-03-15 00:21:21.018 [clientInboundChannel-229] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=q4ynjlha
2024-03-15 00:21:21.018 [clientInboundChannel-244] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:21:25.949 [MessageBroker-2] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [0ss05cy1]
2024-03-15 00:30:26.165 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:30:26.167 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433826145", parameters={masked}
2024-03-15 00:30:26.168 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:30:26.170 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:30:26.171 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433826145
2024-03-15 00:30:26.172 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:30:26.205 [http-nio-80-exec-2] "GET /ws/ep/546/l1brsw2g/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/546/l1brsw2g/websocket", parameters={}
2024-03-15 00:30:26.205 [http-nio-80-exec-2] "GET /ws/ep/546/l1brsw2g/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:30:26.205 [http-nio-80-exec-2] "GET /ws/ep/546/l1brsw2g/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/546/l1brsw2g/websocket
2024-03-15 00:30:26.207 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:30:26.208 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:30:26.208 [http-nio-80-exec-2] "GET /ws/ep/546/l1brsw2g/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:30:26.208 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=l1brsw2g]
2024-03-15 00:30:26.209 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:30:26.211 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:30:26.211 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:30:26.213 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:30:26.213 [clientInboundChannel-246] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=l1brsw2g
2024-03-15 00:30:26.224 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:30:26.225 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:30:26.226 [clientInboundChannel-248] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=l1brsw2g, lookupDestination='/queue/chat'
2024-03-15 00:30:26.226 [clientInboundChannel-249] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=l1brsw2g
2024-03-15 00:30:26.226 [clientInboundChannel-248] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:30:26.230 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:30:26.230 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:30:26.249 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:30:26.289 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:26.290 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:30:26.294 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:26.295 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:26.295 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:30:26.295 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:26.296 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:26.296 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:30:26.296 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:26.297 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:26.297 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:30:26.297 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:26.298 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:26.298 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:30:26.298 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:26.299 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:26.299 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:30:26.299 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:26.299 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:26.300 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:30:26.300 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:26.300 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:26.301 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:30:26.301 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:26.302 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:30:26.303 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:30:26.304 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:30:26.867 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=q4ynjlha] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:30:26.867 [http-nio-80-exec-9] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session q4ynjlha
2024-03-15 00:30:26.868 [clientInboundChannel-252] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=q4ynjlha
2024-03-15 00:30:26.868 [clientOutboundChannel-136] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=q4ynjlha}], simpSessionId=q4ynjlha}]
2024-03-15 00:30:29.840 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:30:29.840 [http-nio-80-exec-7] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:30:29.842 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:30:29.842 [http-nio-80-exec-7] "OPTIONS /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:30:29.845 [http-nio-80-exec-7] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:30:29.864 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:30:29.864 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:30:29.866 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:30:29.866 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:30:29.867 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:30:29.867 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:30:29.869 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:30:29.869 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:30:29.870 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:30:29.870 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:30:29.870 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:30:29.870 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:30:29.871 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:30:29.871 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:30:29.871 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:30:29.872 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:30:29.872 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:30:29.872 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:30:29.872 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:30:29.873 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:30:29.873 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:30:29.874 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:30:29.874 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:29.874 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:30:29.875 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:29.875 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:29.876 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:30:29.876 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:29.876 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:29.876 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:30:29.877 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:29.877 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:29.877 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:30:29.878 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:29.878 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:29.878 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:30:29.878 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:29.879 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:29.879 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:30:29.879 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:29.879 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:29.880 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:30:29.880 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:29.880 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:30:29.881 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:30:29.881 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:30:29.881 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:30:29.881 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:30:29.882 [http-nio-80-exec-1] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:30:30.128 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433830117", parameters={masked}
2024-03-15 00:30:30.129 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:30:30.129 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433830117
2024-03-15 00:30:30.129 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:30:30.189 [http-nio-80-exec-3] "GET /ws/ep/325/niuoznp3/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/325/niuoznp3/websocket", parameters={}
2024-03-15 00:30:30.190 [http-nio-80-exec-3] "GET /ws/ep/325/niuoznp3/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:30:30.190 [http-nio-80-exec-3] "GET /ws/ep/325/niuoznp3/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/325/niuoznp3/websocket
2024-03-15 00:30:30.192 [http-nio-80-exec-3] "GET /ws/ep/325/niuoznp3/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:30:30.192 [http-nio-80-exec-3] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=niuoznp3]
2024-03-15 00:30:30.202 [clientInboundChannel-255] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=niuoznp3
2024-03-15 00:30:30.212 [clientInboundChannel-257] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=niuoznp3, lookupDestination='/queue/chat'
2024-03-15 00:30:30.212 [clientInboundChannel-258] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=niuoznp3
2024-03-15 00:30:30.212 [clientInboundChannel-257] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:30:35.978 [MessageBroker-6] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [q4ynjlha]
2024-03-15 00:31:45.583 [http-nio-80-exec-4] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=niuoznp3] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:31:45.584 [http-nio-80-exec-4] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session niuoznp3
2024-03-15 00:31:45.585 [clientInboundChannel-261] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=niuoznp3
2024-03-15 00:31:45.586 [clientOutboundChannel-138] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=niuoznp3}], simpSessionId=niuoznp3}]
2024-03-15 00:31:47.720 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:31:47.721 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:31:47.744 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:31:47.746 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:31:47.747 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:31:47.749 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:31:47.750 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:31:47.751 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:31:47.751 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:31:47.752 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:31:47.752 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:31:47.752 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:31:47.753 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:31:47.753 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:31:47.753 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:31:47.753 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:31:47.753 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:31:47.754 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:31:47.754 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:31:47.755 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:31:47.755 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:31:47.756 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:31:47.756 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:31:47.757 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:31:47.758 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:31:47.758 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:31:47.758 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:31:47.759 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:31:47.759 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:31:47.759 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:31:47.759 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:31:47.759 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:31:47.760 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:31:47.760 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:31:47.760 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:31:47.760 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:31:47.761 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:31:47.761 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:31:47.761 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:31:47.761 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:31:47.761 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:31:47.762 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:31:47.762 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:31:47.762 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:31:47.762 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:31:47.763 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:31:47.763 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:31:47.763 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:31:47.763 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:31:47.764 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:31:47.764 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:31:48.031 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433908023", parameters={masked}
2024-03-15 00:31:48.032 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:31:48.032 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433908023
2024-03-15 00:31:48.033 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:31:48.052 [http-nio-80-exec-1] "GET /ws/ep/843/diquc3et/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/843/diquc3et/websocket", parameters={}
2024-03-15 00:31:48.052 [http-nio-80-exec-1] "GET /ws/ep/843/diquc3et/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:31:48.053 [http-nio-80-exec-1] "GET /ws/ep/843/diquc3et/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/843/diquc3et/websocket
2024-03-15 00:31:48.055 [http-nio-80-exec-1] "GET /ws/ep/843/diquc3et/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:31:48.056 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=diquc3et]
2024-03-15 00:31:48.065 [clientInboundChannel-264] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=diquc3et
2024-03-15 00:31:48.084 [clientInboundChannel-266] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=diquc3et, lookupDestination='/queue/chat'
2024-03-15 00:31:48.085 [clientInboundChannel-266] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:31:48.084 [clientInboundChannel-267] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=diquc3et
2024-03-15 00:31:50.977 [MessageBroker-3] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [niuoznp3]
2024-03-15 00:32:19.880 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=diquc3et] closed with CloseStatus[code=1001, reason=null]
2024-03-15 00:32:19.881 [http-nio-80-exec-2] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session diquc3et
2024-03-15 00:32:19.884 [clientInboundChannel-270] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=diquc3et
2024-03-15 00:32:19.887 [clientOutboundChannel-140] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=diquc3et}], simpSessionId=diquc3et}]
2024-03-15 00:32:22.103 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:32:22.105 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:32:22.105 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:32:22.105 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:32:22.115 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:32:22.115 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:32:22.116 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:32:22.116 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:32:22.117 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:32:22.117 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:32:22.118 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:32:22.118 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:32:22.118 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:32:22.118 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:32:22.119 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:32:22.119 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:32:22.120 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:32:22.120 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:32:22.120 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:32:22.120 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:32:22.121 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:32:22.123 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:32:22.123 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:32:22.124 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:32:22.124 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:32:22.124 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:32:22.125 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:32:22.125 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:32:22.125 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:32:22.126 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:32:22.126 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:32:22.126 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:32:22.127 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:32:22.127 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:32:22.127 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:32:22.127 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:32:22.127 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:32:22.127 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:32:22.128 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:32:22.128 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:32:22.128 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:32:22.128 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:32:22.129 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:32:22.129 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:32:22.129 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:32:22.130 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:32:22.130 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:32:22.130 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:32:22.130 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:32:22.130 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:32:22.131 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:32:22.315 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433942301", parameters={masked}
2024-03-15 00:32:22.317 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:32:22.317 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433942301
2024-03-15 00:32:22.317 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:32:22.340 [http-nio-80-exec-9] "GET /ws/ep/116/yno2atfd/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/116/yno2atfd/websocket", parameters={}
2024-03-15 00:32:22.341 [http-nio-80-exec-9] "GET /ws/ep/116/yno2atfd/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:32:22.341 [http-nio-80-exec-9] "GET /ws/ep/116/yno2atfd/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/116/yno2atfd/websocket
2024-03-15 00:32:22.342 [http-nio-80-exec-9] "GET /ws/ep/116/yno2atfd/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:32:22.343 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=yno2atfd]
2024-03-15 00:32:22.381 [clientInboundChannel-273] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=yno2atfd
2024-03-15 00:32:22.506 [clientInboundChannel-275] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=yno2atfd, lookupDestination='/queue/chat'
2024-03-15 00:32:22.506 [clientInboundChannel-275] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:32:22.506 [clientInboundChannel-260] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=yno2atfd
2024-03-15 00:32:25.977 [MessageBroker-1] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [diquc3et]
2024-03-15 00:33:02.591 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=yno2atfd] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:33:02.593 [http-nio-80-exec-1] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session yno2atfd
2024-03-15 00:33:02.595 [clientInboundChannel-277] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=yno2atfd
2024-03-15 00:33:02.595 [clientOutboundChannel-142] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=yno2atfd}], simpSessionId=yno2atfd}]
2024-03-15 00:33:04.948 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:33:04.950 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:33:04.950 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:33:04.956 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:33:04.979 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:33:04.979 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:33:04.980 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:33:04.980 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:33:04.983 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:33:04.983 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:33:04.984 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:33:04.985 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:33:04.985 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:33:04.985 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:33:04.987 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:33:04.987 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:33:04.988 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:33:04.989 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:33:04.990 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:33:04.990 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:33:04.992 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:33:04.992 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:33:04.992 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:33:04.993 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:33:04.994 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:33:04.994 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:33:04.997 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:33:04.998 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:33:04.998 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:33:04.999 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:33:04.999 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:33:04.999 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:33:05.000 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:33:05.001 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:33:05.001 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:33:05.001 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:33:05.002 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:33:05.002 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:33:05.004 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:33:05.004 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:33:05.004 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:33:05.005 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:33:05.005 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:33:05.005 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:33:05.006 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:33:05.006 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:33:05.006 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:33:05.007 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:33:05.007 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:33:05.007 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:33:05.008 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:33:05.486 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710433985477", parameters={masked}
2024-03-15 00:33:05.486 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:33:05.486 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710433985477
2024-03-15 00:33:05.486 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:33:05.501 [http-nio-80-exec-5] "GET /ws/ep/037/d3o51vnd/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/037/d3o51vnd/websocket", parameters={}
2024-03-15 00:33:05.501 [http-nio-80-exec-5] "GET /ws/ep/037/d3o51vnd/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:33:05.501 [http-nio-80-exec-5] "GET /ws/ep/037/d3o51vnd/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/037/d3o51vnd/websocket
2024-03-15 00:33:05.503 [http-nio-80-exec-5] "GET /ws/ep/037/d3o51vnd/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:33:05.503 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=d3o51vnd]
2024-03-15 00:33:05.510 [clientInboundChannel-280] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=d3o51vnd
2024-03-15 00:33:05.515 [clientInboundChannel-282] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=d3o51vnd, lookupDestination='/queue/chat'
2024-03-15 00:33:05.515 [clientInboundChannel-269] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=d3o51vnd
2024-03-15 00:33:05.515 [clientInboundChannel-282] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:33:10.978 [MessageBroker-8] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [yno2atfd]
2024-03-15 00:35:19.564 [http-nio-80-exec-3] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=uwyns5s4]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:35:19.564 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=ybmlswnp]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:35:19.564 [http-nio-80-exec-7] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=rfw4wc2g]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:35:19.572 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ybmlswnp] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:35:19.572 [http-nio-80-exec-1] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session ybmlswnp
2024-03-15 00:35:19.564 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=d3o51vnd]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:35:19.573 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=d3o51vnd] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:35:19.573 [http-nio-80-exec-2] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session d3o51vnd
2024-03-15 00:35:19.574 [http-nio-80-exec-7] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=rfw4wc2g] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:35:19.574 [http-nio-80-exec-7] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session rfw4wc2g
2024-03-15 00:35:19.574 [http-nio-80-exec-3] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=uwyns5s4] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:35:19.574 [http-nio-80-exec-3] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session uwyns5s4
2024-03-15 00:35:19.564 [http-nio-80-exec-8] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=l1brsw2g]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:35:19.575 [http-nio-80-exec-8] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=l1brsw2g] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:35:19.576 [http-nio-80-exec-8] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session l1brsw2g
2024-03-15 00:35:19.564 [http-nio-80-exec-10] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=nqve5zkz]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:35:19.577 [clientInboundChannel-288] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ybmlswnp
2024-03-15 00:35:19.578 [clientInboundChannel-290] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=l1brsw2g
2024-03-15 00:35:19.579 [clientInboundChannel-292] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=uwyns5s4
2024-03-15 00:35:19.580 [clientInboundChannel-294] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=rfw4wc2g
2024-03-15 00:35:19.581 [http-nio-80-exec-10] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=nqve5zkz] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:35:19.581 [http-nio-80-exec-10] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session nqve5zkz
2024-03-15 00:35:19.581 [clientOutboundChannel-146] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=uwyns5s4}], simpSessionId=uwyns5s4}]
2024-03-15 00:35:19.581 [clientOutboundChannel-144] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ybmlswnp}], simpSessionId=ybmlswnp}]
2024-03-15 00:35:19.581 [clientOutboundChannel-145] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=l1brsw2g}], simpSessionId=l1brsw2g}]
2024-03-15 00:35:19.581 [clientInboundChannel-298] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=nqve5zkz
2024-03-15 00:35:19.581 [clientOutboundChannel-147] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={}, simpSessionId=rfw4wc2g}], simpSessionId=rfw4wc2g}]
2024-03-15 00:35:19.582 [clientInboundChannel-296] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=d3o51vnd
2024-03-15 00:35:19.582 [clientOutboundChannel-148] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=nqve5zkz}], simpSessionId=nqve5zkz}]
2024-03-15 00:35:19.582 [clientOutboundChannel-149] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=d3o51vnd}], simpSessionId=d3o51vnd}]
2024-03-15 00:35:25.978 [MessageBroker-4] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 6 sessions: [nqve5zkz, d3o51vnd, rfw4wc2g, uwyns5s4, ybmlswnp, l1brsw2g]
2024-03-15 00:37:04.706 [http-nio-80-exec-6] "GET /5402489d43e84f74e64d.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/5402489d43e84f74e64d.hot-update.json", parameters={}
2024-03-15 00:37:04.707 [http-nio-80-exec-5] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/49da12c317ef96147e7e.hot-update.json", parameters={}
2024-03-15 00:37:04.722 [http-nio-80-exec-5] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.recruit.common.exception.RestExceptionHandler#processException(NoHandlerFoundException, HttpServletRequest, HttpServletResponse)
2024-03-15 00:37:04.722 [http-nio-80-exec-6] "GET /5402489d43e84f74e64d.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.recruit.common.exception.RestExceptionHandler#processException(NoHandlerFoundException, HttpServletRequest, HttpServletResponse)
2024-03-15 00:37:04.738 [http-nio-80-exec-5] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:37:04.738 [http-nio-80-exec-6] "GET /5402489d43e84f74e64d.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:37:04.739 [http-nio-80-exec-5] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UnifyResponseVO(code=10020, message=找不到相应的视图处理器, request=GET /49da12c317ef96147e7e.hot-update.json)]
2024-03-15 00:37:04.739 [http-nio-80-exec-6] "GET /5402489d43e84f74e64d.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UnifyResponseVO(code=10020, message=找不到相应的视图处理器, request=GET /5402489d43e84f74e64d.hot-update.json)]
2024-03-15 00:37:04.744 [http-nio-80-exec-6] "GET /5402489d43e84f74e64d.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2024-03-15 00:37:04.744 [http-nio-80-exec-5] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2024-03-15 00:37:06.444 [http-nio-80-exec-4] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:37:06.445 [http-nio-80-exec-4] "OPTIONS /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:37:06.454 [http-nio-80-exec-4] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:37:06.459 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:37:06.460 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:37:06.461 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:37:06.461 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:37:06.467 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434226448", parameters={masked}
2024-03-15 00:37:06.468 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:37:06.469 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434226448
2024-03-15 00:37:06.469 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:37:06.478 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:37:06.481 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:37:06.490 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:37:06.490 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:37:06.494 [http-nio-80-exec-3] "GET /ws/ep/713/o4jnms5b/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/713/o4jnms5b/websocket", parameters={}
2024-03-15 00:37:06.494 [http-nio-80-exec-3] "GET /ws/ep/713/o4jnms5b/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:37:06.494 [http-nio-80-exec-3] "GET /ws/ep/713/o4jnms5b/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/713/o4jnms5b/websocket
2024-03-15 00:37:06.496 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:37:06.496 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:37:06.497 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:37:06.497 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:37:06.497 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:37:06.497 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:37:06.498 [http-nio-80-exec-3] "GET /ws/ep/713/o4jnms5b/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:37:06.498 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:37:06.498 [http-nio-80-exec-3] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=o4jnms5b]
2024-03-15 00:37:06.498 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:37:06.499 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:37:06.499 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:37:06.500 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:37:06.500 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:37:06.501 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:37:06.506 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:37:06.507 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:37:06.508 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:37:06.508 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:06.508 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:37:06.510 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:06.510 [clientInboundChannel-300] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=o4jnms5b
2024-03-15 00:37:06.511 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:06.511 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:37:06.512 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:06.513 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:06.513 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:37:06.515 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:06.516 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:06.516 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:37:06.517 [clientInboundChannel-302] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=o4jnms5b, lookupDestination='/queue/chat'
2024-03-15 00:37:06.518 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:06.518 [clientInboundChannel-302] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:37:06.518 [clientInboundChannel-303] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=o4jnms5b
2024-03-15 00:37:06.519 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:06.520 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:37:06.522 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:06.525 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:06.525 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:37:06.527 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:06.604 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:06.650 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:37:06.651 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:06.652 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:06.652 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:37:06.656 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:06.657 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:37:06.657 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:37:06.751 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:37:09.825 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:37:09.826 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:37:09.825 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:37:09.826 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:37:09.835 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:37:09.835 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:37:09.836 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:37:09.836 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:37:09.838 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:37:09.839 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:37:09.840 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:37:09.840 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:37:09.842 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:37:09.842 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:37:09.843 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:37:09.843 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:37:09.845 [http-nio-80-exec-7] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:37:09.842 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:37:09.847 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:37:09.848 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:37:09.849 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:37:09.850 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:37:09.850 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:37:09.852 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:37:09.854 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:09.854 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:37:09.856 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:09.857 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:09.858 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:37:09.858 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:09.859 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:09.859 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:37:09.860 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:09.860 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:09.860 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:37:09.861 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:09.861 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:09.861 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:37:09.861 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:09.862 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:09.862 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:37:09.862 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:09.862 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:09.862 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:37:09.863 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:09.863 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:37:09.863 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:37:09.864 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:37:09.864 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:37:09.864 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:37:09.865 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:37:10.170 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434230160", parameters={masked}
2024-03-15 00:37:10.171 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:37:10.171 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434230160
2024-03-15 00:37:10.172 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:37:10.194 [http-nio-80-exec-4] "GET /ws/ep/313/oyyb3fp2/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/313/oyyb3fp2/websocket", parameters={}
2024-03-15 00:37:10.195 [http-nio-80-exec-4] "GET /ws/ep/313/oyyb3fp2/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:37:10.195 [http-nio-80-exec-4] "GET /ws/ep/313/oyyb3fp2/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/313/oyyb3fp2/websocket
2024-03-15 00:37:10.197 [http-nio-80-exec-4] "GET /ws/ep/313/oyyb3fp2/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:37:10.198 [http-nio-80-exec-4] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=oyyb3fp2]
2024-03-15 00:37:10.211 [clientInboundChannel-306] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=oyyb3fp2
2024-03-15 00:37:10.223 [clientInboundChannel-309] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=oyyb3fp2
2024-03-15 00:37:10.223 [clientInboundChannel-308] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=oyyb3fp2, lookupDestination='/queue/chat'
2024-03-15 00:37:10.224 [clientInboundChannel-308] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:38:06.787 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/49da12c317ef96147e7e.hot-update.json", parameters={}
2024-03-15 00:38:06.792 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.recruit.common.exception.RestExceptionHandler#processException(NoHandlerFoundException, HttpServletRequest, HttpServletResponse)
2024-03-15 00:38:06.801 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:38:06.809 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UnifyResponseVO(code=10020, message=找不到相应的视图处理器, request=GET /49da12c317ef96147e7e.hot-update.json)]
2024-03-15 00:38:06.814 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2024-03-15 00:38:06.864 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=oyyb3fp2] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:38:06.865 [http-nio-80-exec-9] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session oyyb3fp2
2024-03-15 00:38:06.868 [clientInboundChannel-312] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=oyyb3fp2
2024-03-15 00:38:06.869 [clientOutboundChannel-152] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=oyyb3fp2}], simpSessionId=oyyb3fp2}]
2024-03-15 00:38:09.034 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:38:09.036 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:38:09.063 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:38:09.064 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:38:09.068 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:38:09.070 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:38:09.070 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:38:09.070 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:38:09.070 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:38:09.075 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:38:09.075 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:38:09.076 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:38:09.078 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:38:09.078 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:38:09.081 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:38:09.082 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:38:09.082 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:38:09.089 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:38:09.089 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:38:09.096 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:38:09.100 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:38:09.109 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:09.110 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:38:09.110 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:38:09.110 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:38:09.113 [http-nio-80-exec-5] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:38:09.114 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:09.114 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:09.115 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:38:09.115 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:09.116 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:09.116 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:38:09.120 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:09.120 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:09.120 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:38:09.121 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:09.121 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:09.121 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:38:09.122 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:09.122 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:09.122 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:38:09.123 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:09.123 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:09.123 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:38:09.123 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:09.124 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:09.124 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:38:09.124 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:09.124 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:38:09.125 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:38:09.125 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:38:09.723 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434289712", parameters={masked}
2024-03-15 00:38:09.724 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:38:09.725 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434289712
2024-03-15 00:38:09.725 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:38:09.777 [http-nio-80-exec-4] "GET /ws/ep/300/vu4zlq2c/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/300/vu4zlq2c/websocket", parameters={}
2024-03-15 00:38:09.781 [http-nio-80-exec-4] "GET /ws/ep/300/vu4zlq2c/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:38:09.782 [http-nio-80-exec-4] "GET /ws/ep/300/vu4zlq2c/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/300/vu4zlq2c/websocket
2024-03-15 00:38:09.786 [http-nio-80-exec-4] "GET /ws/ep/300/vu4zlq2c/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:38:09.788 [http-nio-80-exec-4] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=vu4zlq2c]
2024-03-15 00:38:09.897 [clientInboundChannel-315] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=vu4zlq2c
2024-03-15 00:38:09.917 [clientInboundChannel-318] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=vu4zlq2c
2024-03-15 00:38:09.917 [clientInboundChannel-317] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=vu4zlq2c, lookupDestination='/queue/chat'
2024-03-15 00:38:09.917 [clientInboundChannel-317] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:38:15.979 [MessageBroker-7] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [oyyb3fp2]
2024-03-15 00:38:16.366 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=o4jnms5b] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:38:16.367 [http-nio-80-exec-1] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session o4jnms5b
2024-03-15 00:38:16.367 [clientInboundChannel-321] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=o4jnms5b
2024-03-15 00:38:16.368 [clientOutboundChannel-154] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=o4jnms5b}], simpSessionId=o4jnms5b}]
2024-03-15 00:38:17.595 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:38:17.600 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:38:17.623 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:38:17.624 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:38:17.632 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:38:17.642 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:38:17.643 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:38:17.644 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:38:17.644 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:38:17.644 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:38:17.645 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:38:17.651 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:38:17.651 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434297604", parameters={masked}
2024-03-15 00:38:17.652 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:38:17.652 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:38:17.652 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434297604
2024-03-15 00:38:17.652 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:38:17.654 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:38:17.655 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:38:17.656 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:38:17.657 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:38:17.657 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:38:17.657 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:38:17.658 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:38:17.658 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:38:17.659 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:38:17.659 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:38:17.661 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:38:17.662 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:17.662 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:38:17.662 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:17.663 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:17.663 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:38:17.664 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:17.664 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:17.664 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:38:17.664 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:17.665 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:17.665 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:38:17.665 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:17.665 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:17.665 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:38:17.666 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:17.666 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:17.666 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:38:17.667 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:17.667 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:17.667 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:38:17.668 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:17.668 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:38:17.668 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:38:17.668 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:38:17.669 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:38:17.669 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:38:17.669 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:38:17.811 [http-nio-80-exec-5] "GET /ws/ep/527/ioypar1f/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/527/ioypar1f/websocket", parameters={}
2024-03-15 00:38:17.819 [http-nio-80-exec-5] "GET /ws/ep/527/ioypar1f/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:38:17.819 [http-nio-80-exec-5] "GET /ws/ep/527/ioypar1f/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/527/ioypar1f/websocket
2024-03-15 00:38:17.822 [http-nio-80-exec-5] "GET /ws/ep/527/ioypar1f/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:38:17.822 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ioypar1f]
2024-03-15 00:38:17.840 [clientInboundChannel-324] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=ioypar1f
2024-03-15 00:38:17.855 [clientInboundChannel-326] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=ioypar1f, lookupDestination='/queue/chat'
2024-03-15 00:38:17.855 [clientInboundChannel-326] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:38:17.856 [clientInboundChannel-311] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=ioypar1f
2024-03-15 00:38:25.977 [MessageBroker-7] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [o4jnms5b]
2024-03-15 00:40:41.462 [http-nio-80-exec-3] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ioypar1f] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:40:41.464 [http-nio-80-exec-3] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session ioypar1f
2024-03-15 00:40:41.468 [clientInboundChannel-328] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ioypar1f
2024-03-15 00:40:41.470 [clientOutboundChannel-156] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ioypar1f}], simpSessionId=ioypar1f}]
2024-03-15 00:40:42.755 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:40:42.757 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:40:42.762 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434442739", parameters={masked}
2024-03-15 00:40:42.763 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:40:42.764 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:40:42.764 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:40:42.766 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434442739
2024-03-15 00:40:42.767 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:40:42.767 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:40:42.768 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:40:42.774 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:40:42.775 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:40:42.775 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:40:42.786 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:40:42.786 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:40:42.786 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:40:42.787 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:40:42.787 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:40:42.788 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:40:42.788 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:40:42.788 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:40:42.789 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:40:42.789 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:40:42.791 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:40:42.791 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:40:42.792 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:40:42.792 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:40:42.793 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:40:42.794 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:42.794 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:40:42.795 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:42.796 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:42.796 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:40:42.797 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:42.797 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:42.797 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:40:42.798 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:42.798 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:42.798 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:40:42.799 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:42.799 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:42.799 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:40:42.800 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:42.801 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:42.801 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:40:42.802 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:42.802 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:42.802 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:40:42.803 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:42.803 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:42.803 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:40:42.804 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:42.804 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:40:42.804 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:40:42.805 [http-nio-80-exec-9] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:40:42.817 [http-nio-80-exec-2] "GET /ws/ep/242/ttui5csq/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/242/ttui5csq/websocket", parameters={}
2024-03-15 00:40:42.819 [http-nio-80-exec-2] "GET /ws/ep/242/ttui5csq/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:40:42.821 [http-nio-80-exec-2] "GET /ws/ep/242/ttui5csq/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/242/ttui5csq/websocket
2024-03-15 00:40:42.831 [http-nio-80-exec-2] "GET /ws/ep/242/ttui5csq/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:40:42.832 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ttui5csq]
2024-03-15 00:40:43.007 [clientInboundChannel-331] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=ttui5csq
2024-03-15 00:40:43.016 [clientInboundChannel-333] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=ttui5csq, lookupDestination='/queue/chat'
2024-03-15 00:40:43.016 [clientInboundChannel-334] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=ttui5csq
2024-03-15 00:40:43.016 [clientInboundChannel-333] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:40:50.996 [MessageBroker-1] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [ioypar1f]
2024-03-15 00:40:54.665 [http-nio-80-exec-4] "GET /6d97fe971701084981f0.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/6d97fe971701084981f0.hot-update.json", parameters={}
2024-03-15 00:40:54.674 [http-nio-80-exec-4] "GET /6d97fe971701084981f0.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.recruit.common.exception.RestExceptionHandler#processException(NoHandlerFoundException, HttpServletRequest, HttpServletResponse)
2024-03-15 00:40:54.681 [http-nio-80-exec-4] "GET /6d97fe971701084981f0.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:40:54.682 [http-nio-80-exec-4] "GET /6d97fe971701084981f0.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UnifyResponseVO(code=10020, message=找不到相应的视图处理器, request=GET /6d97fe971701084981f0.hot-update.json)]
2024-03-15 00:40:54.688 [http-nio-80-exec-4] "GET /6d97fe971701084981f0.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2024-03-15 00:40:57.059 [http-nio-80-exec-8] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=vu4zlq2c] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:40:57.060 [http-nio-80-exec-8] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session vu4zlq2c
2024-03-15 00:40:57.062 [clientInboundChannel-337] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=vu4zlq2c
2024-03-15 00:40:57.063 [clientOutboundChannel-158] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=vu4zlq2c}], simpSessionId=vu4zlq2c}]
2024-03-15 00:40:57.359 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:40:57.359 [http-nio-80-exec-3] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:40:57.359 [http-nio-80-exec-3] "OPTIONS /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:40:57.360 [http-nio-80-exec-3] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:40:57.364 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:40:57.377 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:40:57.377 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:40:57.382 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434457364", parameters={masked}
2024-03-15 00:40:57.383 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:40:57.383 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434457364
2024-03-15 00:40:57.383 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:40:57.386 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:40:57.387 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:40:57.387 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:40:57.387 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:40:57.390 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:40:57.390 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:40:57.391 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:40:57.391 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:40:57.391 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:40:57.392 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:40:57.392 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:40:57.392 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:40:57.392 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:40:57.392 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:40:57.393 [http-nio-80-exec-1] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:40:57.393 [http-nio-80-exec-2] "GET /ws/ep/338/0zim0tsa/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/338/0zim0tsa/websocket", parameters={}
2024-03-15 00:40:57.393 [http-nio-80-exec-2] "GET /ws/ep/338/0zim0tsa/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:40:57.393 [http-nio-80-exec-2] "GET /ws/ep/338/0zim0tsa/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/338/0zim0tsa/websocket
2024-03-15 00:40:57.394 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:40:57.394 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:40:57.395 [http-nio-80-exec-2] "GET /ws/ep/338/0zim0tsa/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:40:57.395 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:40:57.396 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:40:57.396 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=0zim0tsa]
2024-03-15 00:40:57.397 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:40:57.397 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:57.398 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:40:57.398 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:57.399 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:57.399 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:40:57.400 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:57.401 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:57.401 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:40:57.401 [clientInboundChannel-340] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=0zim0tsa
2024-03-15 00:40:57.401 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:57.403 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:57.403 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:40:57.404 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:57.406 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:57.406 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:40:57.407 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:57.408 [clientInboundChannel-342] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=0zim0tsa, lookupDestination='/queue/chat'
2024-03-15 00:40:57.408 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:57.408 [clientInboundChannel-327] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=0zim0tsa
2024-03-15 00:40:57.408 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:40:57.408 [clientInboundChannel-342] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:40:57.409 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:57.410 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:57.410 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:40:57.410 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:57.411 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:40:57.411 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:40:57.414 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:40:57.415 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:40:57.415 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:40:57.415 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:01.634 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:41:01.635 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:41:01.642 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:41:01.643 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:41:01.645 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:41:01.646 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:41:01.646 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:41:01.652 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:41:01.653 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:41:01.653 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:41:01.653 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:41:01.654 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:41:01.655 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:41:01.659 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:41:01.659 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:41:01.659 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:41:01.659 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:41:01.660 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:41:01.660 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:41:01.661 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:41:01.661 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:01.661 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:41:01.661 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:41:01.662 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:01.662 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:41:01.663 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:01.663 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:01.663 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:01.664 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:41:01.664 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:01.665 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:01.665 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:41:01.666 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:01.666 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:01.666 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:41:01.667 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:01.668 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:01.668 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:41:01.668 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:01.669 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:01.669 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:41:01.669 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:01.670 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:01.670 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:41:01.670 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:01.671 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:01.671 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:41:01.671 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:01.671 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:01.671 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:41:01.672 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:01.993 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434461973", parameters={masked}
2024-03-15 00:41:01.993 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:41:01.994 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434461973
2024-03-15 00:41:01.994 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:02.010 [http-nio-80-exec-3] "GET /ws/ep/457/50ien5ww/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/457/50ien5ww/websocket", parameters={}
2024-03-15 00:41:02.012 [http-nio-80-exec-3] "GET /ws/ep/457/50ien5ww/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:41:02.012 [http-nio-80-exec-3] "GET /ws/ep/457/50ien5ww/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/457/50ien5ww/websocket
2024-03-15 00:41:02.014 [http-nio-80-exec-3] "GET /ws/ep/457/50ien5ww/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:41:02.015 [http-nio-80-exec-3] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=50ien5ww]
2024-03-15 00:41:02.125 [clientInboundChannel-328] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=50ien5ww
2024-03-15 00:41:02.151 [clientInboundChannel-331] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=50ien5ww, lookupDestination='/queue/chat'
2024-03-15 00:41:02.151 [clientInboundChannel-331] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:41:02.151 [clientInboundChannel-334] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=50ien5ww
2024-03-15 00:41:04.841 [clientInboundChannel-333] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0zim0tsa, lookupDestination='/ws/chat'
2024-03-15 00:41:04.843 [clientInboundChannel-333] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:41:04.849 [clientInboundChannel-333] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":null,"content":"hi\n","date":"2024-03...(truncated)
2024-03-15 00:41:04.850 [clientInboundChannel-333] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:41:05.995 [MessageBroker-1] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [vu4zlq2c]
2024-03-15 00:41:10.500 [http-nio-80-exec-4] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/category/show", parameters={}
2024-03-15 00:41:10.499 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/sort", parameters={}
2024-03-15 00:41:10.500 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/keyword?page=0&count=12&keyword=", parameters={masked}
2024-03-15 00:41:10.500 [http-nio-80-exec-10] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/company/find", parameters={}
2024-03-15 00:41:10.511 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#pageKeyword(Integer, Integer, String)
2024-03-15 00:41:10.511 [http-nio-80-exec-10] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CompanyController#findHot()
2024-03-15 00:41:10.511 [http-nio-80-exec-4] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CategoryController#show()
2024-03-15 00:41:10.512 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#sort()
2024-03-15 00:41:10.539 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==>  Preparing: SELECT p.*,c.name as company_name,c.logo FROM position p,company c where p.company_id = c.id and p.delete_time is null and p.state = 1 ORDER BY hits desc LIMIT 0,8
2024-03-15 00:41:10.539 [http-nio-80-exec-10] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==>  Preparing: SELECT * FROM `company` where delete_time is null and state = 1 LIMIT 0,8
2024-03-15 00:41:10.539 [http-nio-80-exec-4] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==>  Preparing: SELECT * FROM category where delete_time is null LIMIT 0,9
2024-03-15 00:41:10.541 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==> Parameters: 
2024-03-15 00:41:10.541 [http-nio-80-exec-4] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==> Parameters: 
2024-03-15 00:41:10.541 [http-nio-80-exec-10] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==> Parameters: 
2024-03-15 00:41:10.547 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = 1 AND p.delete_time IS NULL AND p.title LIKE concat('%', ?, '%')
2024-03-15 00:41:10.547 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String)
2024-03-15 00:41:10.548 [http-nio-80-exec-4] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - <==      Total: 9
2024-03-15 00:41:10.548 [http-nio-80-exec-10] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - <==      Total: 8
2024-03-15 00:41:10.549 [http-nio-80-exec-10] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:10.549 [http-nio-80-exec-4] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:10.549 [http-nio-80-exec-4] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CategoryDO(name=Java开发, description=这个分类是Java开发), CategoryDO(name=C++开发, description=这个分类是C++开发), C (truncated)...]
2024-03-15 00:41:10.549 [http-nio-80-exec-10] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CompanyDO(name=阿里巴巴, foreignName=Alibaba, city=中国杭州1, logo=https://bjck.xilikeli.cn/61007a1aced342c (truncated)...]
2024-03-15 00:41:10.550 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - <==      Total: 8
2024-03-15 00:41:10.550 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:10.550 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[PositionResultDO(CategoryName=null, CompanyName=阿里巴巴, CompanyDesc=null, logo=https://bjck.xilikeli. (truncated)...]
2024-03-15 00:41:10.551 [http-nio-80-exec-10] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:10.551 [http-nio-80-exec-4] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:10.552 [http-nio-80-exec-7] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:10.555 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,c.logo as logo,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = 1 and p.delete_time is null and p.title like concat('%',?,'%') LIMIT ?
2024-03-15 00:41:10.555 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String), 12(Long)
2024-03-15 00:41:10.557 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - <==      Total: 12
2024-03-15 00:41:10.557 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:10.557 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:41:10.558 [http-nio-80-exec-5] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:13.966 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:41:13.967 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:41:13.967 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:41:13.967 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:41:13.972 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:41:13.972 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:41:13.975 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:41:13.977 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:41:13.978 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = ? AND p.delete_time IS NULL
2024-03-15 00:41:13.978 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:41:13.980 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer)
2024-03-15 00:41:13.983 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:41:13.983 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:13.984 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:41:13.985 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:13.988 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = ? and p.delete_time is null LIMIT ?
2024-03-15 00:41:13.988 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:41:13.990 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - <==      Total: 10
2024-03-15 00:41:13.990 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:13.990 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:41:13.992 [http-nio-80-exec-8] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:18.272 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:41:18.272 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434478238", parameters={masked}
2024-03-15 00:41:18.275 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:41:18.275 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:41:18.276 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434478238
2024-03-15 00:41:18.277 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:18.293 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:41:18.293 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:41:18.295 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:41:18.295 [http-nio-80-exec-7] "GET /ws/ep/504/qhtj425b/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/504/qhtj425b/websocket", parameters={}
2024-03-15 00:41:18.296 [http-nio-80-exec-7] "GET /ws/ep/504/qhtj425b/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:41:18.296 [http-nio-80-exec-7] "GET /ws/ep/504/qhtj425b/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/504/qhtj425b/websocket
2024-03-15 00:41:18.297 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:41:18.297 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:41:18.300 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:41:18.302 [http-nio-80-exec-7] "GET /ws/ep/504/qhtj425b/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:41:18.303 [http-nio-80-exec-7] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qhtj425b]
2024-03-15 00:41:18.304 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:41:18.304 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:41:18.307 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:41:18.307 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:41:18.309 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:41:18.309 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:18.310 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:41:18.310 [clientInboundChannel-339] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=qhtj425b
2024-03-15 00:41:18.310 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:18.311 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:18.311 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:41:18.312 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:18.312 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:18.312 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:41:18.313 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:18.313 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:18.313 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:41:18.313 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:18.314 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:18.314 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:41:18.314 [clientInboundChannel-340] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=qhtj425b, lookupDestination='/queue/chat'
2024-03-15 00:41:18.314 [clientInboundChannel-327] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=qhtj425b
2024-03-15 00:41:18.314 [clientInboundChannel-340] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:41:18.314 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:18.315 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:18.315 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:41:18.315 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:18.316 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:18.316 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:41:18.316 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:18.316 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:41:18.316 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:41:18.317 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:41:18.318 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:41:18.318 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:41:18.319 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:41:26.834 [clientInboundChannel-342] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0zim0tsa, lookupDestination='/ws/chat'
2024-03-15 00:41:26.837 [clientInboundChannel-342] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:41:26.839 [clientInboundChannel-342] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":null,"content":"hi\n","date":"2024-03...(truncated)
2024-03-15 00:41:26.839 [clientInboundChannel-342] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 4 sessions.
2024-03-15 00:41:55.705 [clientInboundChannel-343] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0zim0tsa, lookupDestination='/ws/chat'
2024-03-15 00:41:55.720 [clientInboundChannel-343] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:41:55.742 [clientInboundChannel-343] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":null,"content":"nihau\n","date":"2024...(truncated)
2024-03-15 00:41:55.743 [clientInboundChannel-343] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 4 sessions.
2024-03-15 00:42:19.564 [clientInboundChannel-344] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0zim0tsa, lookupDestination='/ws/chat'
2024-03-15 00:42:19.567 [clientInboundChannel-344] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:42:19.569 [clientInboundChannel-344] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":null,"content":"我\n","date":"2024-0...(truncated)
2024-03-15 00:42:19.569 [clientInboundChannel-344] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 4 sessions.
2024-03-15 00:42:28.560 [clientInboundChannel-347] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=qhtj425b, lookupDestination='/ws/chat'
2024-03-15 00:42:28.566 [clientInboundChannel-347] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:42:28.572 [clientInboundChannel-347] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user1","to":"user","fromnickname":null,"content":"你好啊","date":"20...(truncated)
2024-03-15 00:42:28.572 [clientInboundChannel-347] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 4 sessions.
2024-03-15 00:42:50.696 [clientInboundChannel-350] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=qhtj425b, lookupDestination='/ws/chat'
2024-03-15 00:42:50.700 [clientInboundChannel-350] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:42:50.704 [clientInboundChannel-350] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user1","to":"user1","fromnickname":null,"content":"你好","date":"2024...(truncated)
2024-03-15 00:42:50.704 [clientInboundChannel-350] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 4 sessions.
2024-03-15 00:42:55.911 [clientInboundChannel-353] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=qhtj425b, lookupDestination='/ws/chat'
2024-03-15 00:42:55.912 [clientInboundChannel-353] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:42:55.918 [clientInboundChannel-353] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user1","to":"user","fromnickname":null,"content":"你好","date":"2024-...(truncated)
2024-03-15 00:42:55.919 [clientInboundChannel-353] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 4 sessions.
2024-03-15 00:42:59.926 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ttui5csq] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:42:59.927 [http-nio-80-exec-6] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qhtj425b] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:42:59.927 [http-nio-80-exec-6] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session qhtj425b
2024-03-15 00:42:59.927 [http-nio-80-exec-5] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session ttui5csq
2024-03-15 00:42:59.928 [clientInboundChannel-359] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ttui5csq
2024-03-15 00:42:59.928 [clientInboundChannel-358] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=qhtj425b
2024-03-15 00:42:59.929 [clientOutboundChannel-176] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=qhtj425b}], simpSessionId=qhtj425b}]
2024-03-15 00:42:59.929 [clientOutboundChannel-175] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ttui5csq}], simpSessionId=ttui5csq}]
2024-03-15 00:43:00.472 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:43:00.473 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:43:00.473 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434580468", parameters={masked}
2024-03-15 00:43:00.474 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:43:00.474 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:43:00.474 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:43:00.476 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434580468
2024-03-15 00:43:00.477 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:43:00.491 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:43:00.491 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:43:00.493 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:43:00.493 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:43:00.507 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:43:00.507 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:43:00.507 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:43:00.508 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:43:00.508 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:43:00.508 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:43:00.508 [http-nio-80-exec-1] "GET /ws/ep/864/2x55h32n/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/864/2x55h32n/websocket", parameters={}
2024-03-15 00:43:00.508 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:43:00.508 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:43:00.509 [http-nio-80-exec-1] "GET /ws/ep/864/2x55h32n/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:43:00.509 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:43:00.509 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:43:00.509 [http-nio-80-exec-1] "GET /ws/ep/864/2x55h32n/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/864/2x55h32n/websocket
2024-03-15 00:43:00.510 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:43:00.510 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:43:00.510 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:43:00.511 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:43:00.511 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:43:00.511 [http-nio-80-exec-1] "GET /ws/ep/864/2x55h32n/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:43:00.512 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=2x55h32n]
2024-03-15 00:43:00.512 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:43:00.512 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:43:00.512 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:43:00.513 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:43:00.514 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:43:00.514 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:43:00.516 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:43:00.517 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:43:00.517 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:43:00.517 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:43:00.518 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:43:00.518 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:43:00.518 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:43:00.518 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:43:00.518 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:43:00.518 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:43:00.519 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:43:00.519 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:43:00.519 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:43:00.519 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:43:00.519 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:43:00.520 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:43:00.520 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:43:00.520 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:43:00.520 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:43:00.521 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:43:00.521 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:43:00.521 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:43:00.534 [clientInboundChannel-349] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=2x55h32n
2024-03-15 00:43:00.537 [clientInboundChannel-347] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=2x55h32n, lookupDestination='/queue/chat'
2024-03-15 00:43:00.537 [clientInboundChannel-351] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=2x55h32n
2024-03-15 00:43:00.537 [clientInboundChannel-347] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:43:05.995 [MessageBroker-2] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 2 sessions: [ttui5csq, qhtj425b]
2024-03-15 00:43:08.528 [clientInboundChannel-350] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=2x55h32n, lookupDestination='/ws/chat'
2024-03-15 00:43:08.529 [clientInboundChannel-350] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:43:08.530 [clientInboundChannel-350] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user1","to":"user","fromnickname":null,"content":"hi","date":"2024-03-1...(truncated)
2024-03-15 00:43:08.530 [clientInboundChannel-350] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:43:19.654 [clientInboundChannel-360] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0zim0tsa, lookupDestination='/ws/chat'
2024-03-15 00:43:19.655 [clientInboundChannel-360] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:43:19.655 [clientInboundChannel-360] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":null,"content":"你好\n","date":"202...(truncated)
2024-03-15 00:43:19.656 [clientInboundChannel-360] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:43:29.318 [clientInboundChannel-356] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=2x55h32n, lookupDestination='/ws/chat'
2024-03-15 00:43:29.318 [clientInboundChannel-356] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:43:29.319 [clientInboundChannel-356] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user1","to":"user","fromnickname":null,"content":"why","date":"2024-03-...(truncated)
2024-03-15 00:43:29.319 [clientInboundChannel-356] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:43:54.244 [clientInboundChannel-359] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=2x55h32n, lookupDestination='/ws/chat'
2024-03-15 00:43:54.245 [clientInboundChannel-359] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:43:54.246 [clientInboundChannel-359] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user1","to":"user","fromnickname":null,"content":"搜噶","date":"2024-...(truncated)
2024-03-15 00:43:54.246 [clientInboundChannel-359] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:44:09.279 [clientInboundChannel-362] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0zim0tsa, lookupDestination='/ws/chat'
2024-03-15 00:44:09.279 [clientInboundChannel-362] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:44:09.280 [clientInboundChannel-362] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":null,"content":"好咯\n\n","date":"2...(truncated)
2024-03-15 00:44:09.280 [clientInboundChannel-362] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:44:12.517 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=2x55h32n] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:44:12.518 [http-nio-80-exec-1] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 2x55h32n
2024-03-15 00:44:12.518 [clientInboundChannel-366] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=2x55h32n
2024-03-15 00:44:12.519 [clientOutboundChannel-195] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2x55h32n}], simpSessionId=2x55h32n}]
2024-03-15 00:44:12.991 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:44:12.992 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:44:13.006 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:44:13.007 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:44:13.008 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434652992", parameters={masked}
2024-03-15 00:44:13.010 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:44:13.011 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434652992
2024-03-15 00:44:13.011 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:44:13.011 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:44:13.011 [http-nio-80-exec-2] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:44:13.011 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:44:13.011 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:44:13.011 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:44:13.013 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:44:13.013 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:44:13.013 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:44:13.014 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:44:13.014 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:44:13.014 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:44:13.015 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:44:13.016 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:44:13.016 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:44:13.020 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:44:13.021 [http-nio-80-exec-10] "GET /ws/ep/874/ndjyz4wv/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/874/ndjyz4wv/websocket", parameters={}
2024-03-15 00:44:13.021 [http-nio-80-exec-10] "GET /ws/ep/874/ndjyz4wv/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:44:13.022 [http-nio-80-exec-10] "GET /ws/ep/874/ndjyz4wv/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/874/ndjyz4wv/websocket
2024-03-15 00:44:13.022 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:44:13.022 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:44:13.023 [http-nio-80-exec-10] "GET /ws/ep/874/ndjyz4wv/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:44:13.023 [http-nio-80-exec-10] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ndjyz4wv]
2024-03-15 00:44:13.023 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:44:13.023 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:44:13.024 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:44:13.026 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:44:13.026 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:44:13.027 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:44:13.027 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:44:13.027 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:44:13.027 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:44:13.027 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:44:13.027 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:44:13.028 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:44:13.028 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:44:13.028 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:44:13.028 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:44:13.029 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:44:13.029 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:44:13.029 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:44:13.030 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:44:13.030 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:44:13.030 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:44:13.030 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:44:13.030 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:44:13.030 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:44:13.031 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:44:13.031 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:44:13.031 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:44:13.031 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:44:13.031 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:44:13.032 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:44:13.043 [clientInboundChannel-369] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=ndjyz4wv
2024-03-15 00:44:13.049 [clientInboundChannel-371] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=ndjyz4wv, lookupDestination='/queue/chat'
2024-03-15 00:44:13.049 [clientInboundChannel-371] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:44:13.050 [clientInboundChannel-361] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=ndjyz4wv
2024-03-15 00:44:17.998 [clientInboundChannel-357] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=ndjyz4wv, lookupDestination='/ws/chat'
2024-03-15 00:44:17.999 [clientInboundChannel-357] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:44:18.000 [clientInboundChannel-357] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user1","to":"user","fromnickname":null,"content":"hi","date":"2024-03-1...(truncated)
2024-03-15 00:44:18.000 [clientInboundChannel-357] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:44:20.996 [MessageBroker-2] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [2x55h32n]
2024-03-15 00:44:38.235 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=50ien5ww]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:44:38.235 [http-nio-80-exec-4] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=ndjyz4wv]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:44:38.236 [http-nio-80-exec-4] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ndjyz4wv] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:44:38.236 [http-nio-80-exec-4] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session ndjyz4wv
2024-03-15 00:44:38.235 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - Transport error in WebSocketServerSockJsSession[id=0zim0tsa]
java.io.EOFException: null
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1230)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1140)
	at org.apache.tomcat.websocket.server.WsFrameServer.onDataAvailable(WsFrameServer.java:72)
	at org.apache.tomcat.websocket.server.WsFrameServer.doOnDataAvailable(WsFrameServer.java:171)
	at org.apache.tomcat.websocket.server.WsFrameServer.notifyDataAvailable(WsFrameServer.java:151)
	at org.apache.tomcat.websocket.server.WsHttpUpgradeHandler.upgradeDispatch(WsHttpUpgradeHandler.java:148)
	at org.apache.coyote.http11.upgrade.UpgradeProcessorInternal.dispatch(UpgradeProcessorInternal.java:54)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:59)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.lang.Thread.run(Thread.java:750)
2024-03-15 00:44:38.236 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=0zim0tsa] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:44:38.237 [http-nio-80-exec-9] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 0zim0tsa
2024-03-15 00:44:38.237 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=50ien5ww] closed with CloseStatus[code=1006, reason=null]
2024-03-15 00:44:38.237 [http-nio-80-exec-1] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 50ien5ww
2024-03-15 00:44:38.238 [clientInboundChannel-364] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=50ien5ww
2024-03-15 00:44:38.238 [clientInboundChannel-362] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ndjyz4wv
2024-03-15 00:44:38.238 [clientInboundChannel-359] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=0zim0tsa
2024-03-15 00:44:38.238 [clientOutboundChannel-201] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ndjyz4wv}], simpSessionId=ndjyz4wv}]
2024-03-15 00:44:38.238 [clientOutboundChannel-202] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=0zim0tsa}], simpSessionId=0zim0tsa}]
2024-03-15 00:44:38.239 [clientOutboundChannel-200] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=50ien5ww}], simpSessionId=50ien5ww}]
2024-03-15 00:44:45.995 [MessageBroker-1] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 3 sessions: [0zim0tsa, 50ien5ww, ndjyz4wv]
2024-03-15 00:45:09.231 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/49da12c317ef96147e7e.hot-update.json", parameters={}
2024-03-15 00:45:09.231 [http-nio-80-exec-10] "GET /2855226be57de681c6c8.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/2855226be57de681c6c8.hot-update.json", parameters={}
2024-03-15 00:45:09.231 [http-nio-80-exec-8] "GET /0cf95946a2713b75ed44.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/0cf95946a2713b75ed44.hot-update.json", parameters={}
2024-03-15 00:45:09.234 [http-nio-80-exec-8] "GET /0cf95946a2713b75ed44.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.recruit.common.exception.RestExceptionHandler#processException(NoHandlerFoundException, HttpServletRequest, HttpServletResponse)
2024-03-15 00:45:09.235 [http-nio-80-exec-10] "GET /2855226be57de681c6c8.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.recruit.common.exception.RestExceptionHandler#processException(NoHandlerFoundException, HttpServletRequest, HttpServletResponse)
2024-03-15 00:45:09.235 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.recruit.common.exception.RestExceptionHandler#processException(NoHandlerFoundException, HttpServletRequest, HttpServletResponse)
2024-03-15 00:45:09.239 [http-nio-80-exec-8] "GET /0cf95946a2713b75ed44.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:09.239 [http-nio-80-exec-8] "GET /0cf95946a2713b75ed44.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UnifyResponseVO(code=10020, message=找不到相应的视图处理器, request=GET /0cf95946a2713b75ed44.hot-update.json)]
2024-03-15 00:45:09.240 [http-nio-80-exec-8] "GET /0cf95946a2713b75ed44.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2024-03-15 00:45:09.240 [http-nio-80-exec-10] "GET /2855226be57de681c6c8.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:09.241 [http-nio-80-exec-10] "GET /2855226be57de681c6c8.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UnifyResponseVO(code=10020, message=找不到相应的视图处理器, request=GET /2855226be57de681c6c8.hot-update.json)]
2024-03-15 00:45:09.241 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:09.241 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UnifyResponseVO(code=10020, message=找不到相应的视图处理器, request=GET /49da12c317ef96147e7e.hot-update.json)]
2024-03-15 00:45:09.246 [http-nio-80-exec-10] "GET /2855226be57de681c6c8.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2024-03-15 00:45:09.246 [http-nio-80-exec-2] "GET /49da12c317ef96147e7e.hot-update.json HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2024-03-15 00:45:09.749 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:45:09.761 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:45:09.776 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:45:09.777 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:45:09.779 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434709750", parameters={masked}
2024-03-15 00:45:09.781 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:09.780 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:45:09.782 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:45:09.782 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434709750
2024-03-15 00:45:09.783 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:45:09.783 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:09.785 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:45:09.785 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:45:09.791 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:45:09.792 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:45:09.792 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:09.792 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:09.792 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:45:09.794 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:09.794 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:09.797 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:45:09.797 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:09.799 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:09.802 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:45:09.802 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:45:09.806 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:45:09.806 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:45:09.807 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:45:09.808 [http-nio-80-exec-5] "GET /ws/ep/274/4fbrbtzn/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/274/4fbrbtzn/websocket", parameters={}
2024-03-15 00:45:09.808 [http-nio-80-exec-5] "GET /ws/ep/274/4fbrbtzn/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:09.808 [http-nio-80-exec-5] "GET /ws/ep/274/4fbrbtzn/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/274/4fbrbtzn/websocket
2024-03-15 00:45:09.809 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:09.809 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:45:09.810 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:09.810 [http-nio-80-exec-5] "GET /ws/ep/274/4fbrbtzn/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:45:09.811 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:09.811 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:45:09.811 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4fbrbtzn]
2024-03-15 00:45:09.811 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:09.813 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:09.814 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:45:09.815 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:09.818 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:09.818 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:45:09.819 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:09.821 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:09.821 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:45:09.822 [clientInboundChannel-372] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=4fbrbtzn
2024-03-15 00:45:09.823 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:09.825 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:09.825 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:45:09.827 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:09.828 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:09.828 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:45:09.829 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:09.830 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:09.831 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:45:09.832 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:09.837 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:09.841 [clientInboundChannel-360] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=4fbrbtzn, lookupDestination='/queue/chat'
2024-03-15 00:45:09.842 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:45:09.842 [clientInboundChannel-361] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=4fbrbtzn
2024-03-15 00:45:09.843 [clientInboundChannel-360] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:45:09.845 [http-nio-80-exec-7] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:12.374 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:45:12.375 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:45:12.375 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:45:12.375 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:45:12.379 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:45:12.379 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:45:12.379 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:45:12.379 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:12.380 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:45:12.380 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:12.381 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:45:12.381 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:45:12.381 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:45:12.381 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:12.381 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:12.382 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:45:12.382 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:12.382 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:45:12.383 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:45:12.383 [http-nio-80-exec-4] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:12.384 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:45:12.385 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:45:12.385 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:45:12.385 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:45:12.386 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:12.386 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:45:12.389 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:12.390 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:12.390 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:45:12.391 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:12.392 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:12.392 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:45:12.393 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:12.394 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:12.394 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:45:12.394 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:12.395 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:12.395 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:45:12.395 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:12.395 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:12.395 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:45:12.396 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:12.396 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:12.396 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:45:12.396 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:12.397 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:12.397 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:45:12.397 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:12.397 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:12.397 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:45:12.398 [http-nio-80-exec-8] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:12.647 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434712628", parameters={masked}
2024-03-15 00:45:12.647 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:12.647 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434712628
2024-03-15 00:45:12.647 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:12.739 [http-nio-80-exec-2] "GET /ws/ep/614/jpv44qcw/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/614/jpv44qcw/websocket", parameters={}
2024-03-15 00:45:12.740 [http-nio-80-exec-2] "GET /ws/ep/614/jpv44qcw/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:12.740 [http-nio-80-exec-2] "GET /ws/ep/614/jpv44qcw/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/614/jpv44qcw/websocket
2024-03-15 00:45:12.742 [http-nio-80-exec-2] "GET /ws/ep/614/jpv44qcw/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:45:12.743 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=jpv44qcw]
2024-03-15 00:45:12.867 [clientInboundChannel-374] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=jpv44qcw
2024-03-15 00:45:12.885 [clientInboundChannel-357] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=jpv44qcw, lookupDestination='/queue/chat'
2024-03-15 00:45:12.886 [clientInboundChannel-357] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:45:12.886 [clientInboundChannel-357] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=jpv44qcw
2024-03-15 00:45:14.839 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:45:14.840 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:45:14.846 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:45:14.846 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:14.850 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:45:14.850 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:14.850 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:45:14.853 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:45:14.854 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:45:14.854 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:45:14.854 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:14.855 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:14.855 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:45:14.857 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:45:14.858 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:45:14.859 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:45:14.859 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:45:14.859 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:45:14.859 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:14.860 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:45:14.861 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:45:14.861 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:45:14.862 [http-nio-80-exec-9] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:14.864 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:45:14.866 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:14.866 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:45:14.867 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:14.868 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:14.869 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:45:14.870 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:14.871 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:14.871 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:45:14.872 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:14.873 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:14.873 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:45:14.873 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:14.874 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:14.874 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:45:14.874 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:14.875 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:14.875 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:45:14.876 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:14.877 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:14.877 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:45:14.878 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:14.879 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:14.879 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:45:14.880 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:14.881 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:14.881 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:45:14.882 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:15.157 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4fbrbtzn] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:45:15.158 [http-nio-80-exec-1] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 4fbrbtzn
2024-03-15 00:45:15.159 [clientInboundChannel-377] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=4fbrbtzn
2024-03-15 00:45:15.162 [clientOutboundChannel-205] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4fbrbtzn}], simpSessionId=4fbrbtzn}]
2024-03-15 00:45:15.295 [http-nio-80-exec-7] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434715261", parameters={masked}
2024-03-15 00:45:15.296 [http-nio-80-exec-7] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:15.296 [http-nio-80-exec-7] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434715261
2024-03-15 00:45:15.297 [http-nio-80-exec-7] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:15.382 [http-nio-80-exec-4] "GET /ws/ep/254/oy4nuwta/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/254/oy4nuwta/websocket", parameters={}
2024-03-15 00:45:15.383 [http-nio-80-exec-4] "GET /ws/ep/254/oy4nuwta/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:15.384 [http-nio-80-exec-4] "GET /ws/ep/254/oy4nuwta/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/254/oy4nuwta/websocket
2024-03-15 00:45:15.386 [http-nio-80-exec-4] "GET /ws/ep/254/oy4nuwta/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:45:15.388 [http-nio-80-exec-4] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=oy4nuwta]
2024-03-15 00:45:15.447 [clientInboundChannel-364] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=oy4nuwta
2024-03-15 00:45:15.455 [clientInboundChannel-369] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=oy4nuwta, lookupDestination='/queue/chat'
2024-03-15 00:45:15.456 [clientInboundChannel-369] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:45:15.456 [clientInboundChannel-369] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=oy4nuwta
2024-03-15 00:45:15.560 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E6%9D%8E%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:45:15.560 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:45:15.564 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:45:15.564 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:45:15.565 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:45:15.565 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 李同学(String)
2024-03-15 00:45:15.566 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:45:15.566 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:15.567 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:15.567 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:45:15.568 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:45:15.568 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:45:15.569 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user1(String), false(String)
2024-03-15 00:45:15.569 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:15.569 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:15.571 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 3
2024-03-15 00:45:15.571 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:15.571 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user1, isRead=false, time=Sun Feb 25 05:58:02  (truncated)...]
2024-03-15 00:45:15.572 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:45:15.572 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:45:15.573 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434715561", parameters={masked}
2024-03-15 00:45:15.573 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:45:15.573 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:45:15.573 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:15.573 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434715561
2024-03-15 00:45:15.574 [http-nio-80-exec-3] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:15.575 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:45:15.576 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:15.576 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:45:15.572 [http-nio-80-exec-2] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:15.577 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:15.582 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:15.584 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:45:15.590 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:15.590 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:15.591 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:45:15.591 [http-nio-80-exec-9] "GET /ws/ep/278/3vp2afvi/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/278/3vp2afvi/websocket", parameters={}
2024-03-15 00:45:15.591 [http-nio-80-exec-9] "GET /ws/ep/278/3vp2afvi/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:15.591 [http-nio-80-exec-9] "GET /ws/ep/278/3vp2afvi/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/278/3vp2afvi/websocket
2024-03-15 00:45:15.591 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:15.592 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:15.592 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:45:15.592 [http-nio-80-exec-9] "GET /ws/ep/278/3vp2afvi/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:45:15.592 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=3vp2afvi]
2024-03-15 00:45:15.592 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:15.593 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:15.593 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:45:15.593 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:15.594 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:15.594 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:45:15.594 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:15.594 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:15.594 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:45:15.595 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:15.595 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:15.595 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:45:15.596 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:15.596 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:15.596 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:45:15.597 [http-nio-80-exec-6] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:15.618 [clientInboundChannel-360] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=3vp2afvi
2024-03-15 00:45:15.625 [clientInboundChannel-357] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=3vp2afvi
2024-03-15 00:45:15.625 [clientInboundChannel-374] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=3vp2afvi, lookupDestination='/queue/chat'
2024-03-15 00:45:15.625 [clientInboundChannel-374] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:45:20.997 [MessageBroker-7] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [4fbrbtzn]
2024-03-15 00:45:21.590 [clientInboundChannel-362] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=3vp2afvi, lookupDestination='/ws/chat'
2024-03-15 00:45:21.590 [clientInboundChannel-362] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:45:21.591 [clientInboundChannel-362] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user1","to":"user","fromnickname":"李同学","content":"hi","date":"20...(truncated)
2024-03-15 00:45:21.591 [clientInboundChannel-362] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:45:41.309 [http-nio-80-exec-8] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=3vp2afvi] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:45:41.312 [http-nio-80-exec-8] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 3vp2afvi
2024-03-15 00:45:41.313 [clientInboundChannel-364] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=3vp2afvi
2024-03-15 00:45:41.314 [clientOutboundChannel-211] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=3vp2afvi}], simpSessionId=3vp2afvi}]
2024-03-15 00:45:43.499 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/sort", parameters={}
2024-03-15 00:45:43.501 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/keyword?page=0&count=12&keyword=", parameters={masked}
2024-03-15 00:45:43.502 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#pageKeyword(Integer, Integer, String)
2024-03-15 00:45:43.506 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/company/find", parameters={}
2024-03-15 00:45:43.506 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CompanyController#findHot()
2024-03-15 00:45:43.503 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#sort()
2024-03-15 00:45:43.504 [http-nio-80-exec-2] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/category/show", parameters={}
2024-03-15 00:45:43.511 [http-nio-80-exec-2] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CategoryController#show()
2024-03-15 00:45:43.513 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = 1 AND p.delete_time IS NULL AND p.title LIKE concat('%', ?, '%')
2024-03-15 00:45:43.513 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String)
2024-03-15 00:45:43.519 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==>  Preparing: SELECT * FROM `company` where delete_time is null and state = 1 LIMIT 0,8
2024-03-15 00:45:43.519 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==> Parameters: 
2024-03-15 00:45:43.520 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,c.logo as logo,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = 1 and p.delete_time is null and p.title like concat('%',?,'%') LIMIT ?
2024-03-15 00:45:43.520 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String), 12(Long)
2024-03-15 00:45:43.539 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==>  Preparing: SELECT p.*,c.name as company_name,c.logo FROM position p,company c where p.company_id = c.id and p.delete_time is null and p.state = 1 ORDER BY hits desc LIMIT 0,8
2024-03-15 00:45:43.539 [http-nio-80-exec-2] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==>  Preparing: SELECT * FROM category where delete_time is null LIMIT 0,9
2024-03-15 00:45:43.539 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==> Parameters: 
2024-03-15 00:45:43.539 [http-nio-80-exec-2] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==> Parameters: 
2024-03-15 00:45:43.542 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - <==      Total: 8
2024-03-15 00:45:43.542 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:43.543 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CompanyDO(name=阿里巴巴, foreignName=Alibaba, city=中国杭州1, logo=https://bjck.xilikeli.cn/61007a1aced342c (truncated)...]
2024-03-15 00:45:43.543 [http-nio-80-exec-2] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - <==      Total: 9
2024-03-15 00:45:43.543 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - <==      Total: 12
2024-03-15 00:45:43.544 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - <==      Total: 8
2024-03-15 00:45:43.544 [http-nio-80-exec-2] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:43.545 [http-nio-80-exec-2] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CategoryDO(name=Java开发, description=这个分类是Java开发), CategoryDO(name=C++开发, description=这个分类是C++开发), C (truncated)...]
2024-03-15 00:45:43.545 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:43.545 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:43.545 [http-nio-80-exec-9] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:43.545 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[PositionResultDO(CategoryName=null, CompanyName=阿里巴巴, CompanyDesc=null, logo=https://bjck.xilikeli. (truncated)...]
2024-03-15 00:45:43.545 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:45:43.545 [http-nio-80-exec-2] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:43.547 [http-nio-80-exec-10] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:43.548 [http-nio-80-exec-3] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:50.994 [MessageBroker-5] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [3vp2afvi]
2024-03-15 00:45:51.704 [http-nio-80-exec-6] "OPTIONS /recruit/user/login HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/user/login", parameters={}
2024-03-15 00:45:51.705 [http-nio-80-exec-6] "OPTIONS /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#login(LoginDTO)
2024-03-15 00:45:51.706 [http-nio-80-exec-6] "OPTIONS /recruit/user/login HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:51.713 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/recruit/user/login", parameters={}
2024-03-15 00:45:51.714 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#login(LoginDTO)
2024-03-15 00:45:51.717 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDTO(username=root, password=123456)]
2024-03-15 00:45:51.724 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (username = ?)
2024-03-15 00:45:51.724 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: root(String)
2024-03-15 00:45:51.726 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:45:51.729 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserIdentityMapper.selectOne - ==>  Preparing: SELECT id,user_id,identity_type,identifier,credential,create_time,update_time,delete_time FROM user_identity WHERE delete_time IS NULL AND (user_id = ? AND identity_type = ? AND identifier = ?)
2024-03-15 00:45:51.729 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserIdentityMapper.selectOne - ==> Parameters: 1(Integer), USERNAME_PASSWORD(String), root(String)
2024-03-15 00:45:51.733 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserIdentityMapper.selectOne - <==      Total: 1
2024-03-15 00:45:51.869 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:51.870 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Tokens{accessToken='eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZGVudGl0eSI6MSwic2NvcGUiOiJsaW4iLCJ0eXB (truncated)...]
2024-03-15 00:45:51.870 [http-nio-80-exec-5] "POST /recruit/user/login HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:51.873 [http-nio-80-exec-1] "OPTIONS /recruit/user/permissions HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/user/permissions", parameters={}
2024-03-15 00:45:51.874 [http-nio-80-exec-1] "OPTIONS /recruit/user/permissions HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#getPermissions()
2024-03-15 00:45:51.874 [http-nio-80-exec-1] "OPTIONS /recruit/user/permissions HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:51.875 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/user/permissions", parameters={}
2024-03-15 00:45:51.875 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#getPermissions()
2024-03-15 00:45:51.877 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE id=? AND delete_time IS NULL
2024-03-15 00:45:51.877 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - ==> Parameters: 1(Integer)
2024-03-15 00:45:51.878 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - <==      Total: 1
2024-03-15 00:45:51.878 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:45:51.878 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:51.879 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:51.880 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (user_id = ? AND group_id = ?)
2024-03-15 00:45:51.880 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer), 1(Integer)
2024-03-15 00:45:51.880 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:51.880 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectUserGroupIds - ==>  Preparing: SELECT g.id from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN `user_group` as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:51.880 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectUserGroupIds - ==> Parameters: 1(Integer)
2024-03-15 00:45:51.881 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectUserGroupIds - <==      Total: 1
2024-03-15 00:45:51.882 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG c.r.m.PermissionMapper.selectPermissionsByGroupIds - ==>  Preparing: SELECT p.id, p.name, p.module, p.mount, p.create_time, p.update_time, p.delete_time FROM permission AS p WHERE p.delete_time IS NULL AND p.mount = true AND p.id IN ( SELECT gp.permission_id FROM group_permission AS gp WHERE gp.group_id IN ( ? ) )
2024-03-15 00:45:51.882 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG c.r.m.PermissionMapper.selectPermissionsByGroupIds - ==> Parameters: 1(Integer)
2024-03-15 00:45:51.884 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG c.r.m.PermissionMapper.selectPermissionsByGroupIds - <==      Total: 0
2024-03-15 00:45:51.885 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:51.885 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserPermissionVO(id=1, nickname=超级管理员, username=root, avatar=https://bjck.xilikeli.cn/72d0786bad7349 (truncated)...]
2024-03-15 00:45:51.885 [http-nio-80-exec-7] "GET /recruit/user/permissions HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:51.891 [http-nio-80-exec-4] "OPTIONS /recruit/user/getGroup/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/user/getGroup/1", parameters={}
2024-03-15 00:45:51.891 [http-nio-80-exec-4] "OPTIONS /recruit/user/getGroup/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#getUserGroup(Integer)
2024-03-15 00:45:51.891 [http-nio-80-exec-4] "OPTIONS /recruit/user/getGroup/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:51.892 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/user/getGroup/1", parameters={}
2024-03-15 00:45:51.893 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#getUserGroup(Integer)
2024-03-15 00:45:51.893 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE id=? AND delete_time IS NULL
2024-03-15 00:45:51.893 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - ==> Parameters: 1(Integer)
2024-03-15 00:45:51.894 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - <==      Total: 1
2024-03-15 00:45:51.896 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (user_id = ?)
2024-03-15 00:45:51.896 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:51.896 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:51.897 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:51.897 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [1]
2024-03-15 00:45:51.897 [http-nio-80-exec-8] "GET /recruit/user/getGroup/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:54.391 [http-nio-80-exec-2] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:45:54.391 [http-nio-80-exec-9] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/notify?userName=%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E5%91%98&isRead=false", parameters={masked}
2024-03-15 00:45:54.391 [http-nio-80-exec-9] "OPTIONS /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:45:54.392 [http-nio-80-exec-2] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:45:54.392 [http-nio-80-exec-9] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:54.392 [http-nio-80-exec-2] "OPTIONS /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:54.412 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E8%B6%85%E7%BA%A7%E7%AE%A1%E7%90%86%E5%91%98&isRead=false", parameters={masked}
2024-03-15 00:45:54.414 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:45:54.417 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:45:54.418 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:45:54.418 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 超级管理员(String)
2024-03-15 00:45:54.419 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:45:54.426 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:45:54.430 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = ? AND p.delete_time IS NULL
2024-03-15 00:45:54.430 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer)
2024-03-15 00:45:54.431 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = ? and p.delete_time is null LIMIT ?
2024-03-15 00:45:54.431 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:45:54.431 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:45:54.431 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: root(String), false(String)
2024-03-15 00:45:54.432 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434754402", parameters={masked}
2024-03-15 00:45:54.432 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:54.432 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434754402
2024-03-15 00:45:54.432 [http-nio-80-exec-6] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:54.432 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - <==      Total: 10
2024-03-15 00:45:54.433 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 0
2024-03-15 00:45:54.433 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:54.433 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:45:54.433 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:54.433 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[]]
2024-03-15 00:45:54.433 [http-nio-80-exec-10] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:54.433 [http-nio-80-exec-3] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:54.448 [http-nio-80-exec-5] "GET /ws/ep/073/mnc01e2p/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/073/mnc01e2p/websocket", parameters={}
2024-03-15 00:45:54.448 [http-nio-80-exec-5] "GET /ws/ep/073/mnc01e2p/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:54.449 [http-nio-80-exec-5] "GET /ws/ep/073/mnc01e2p/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/073/mnc01e2p/websocket
2024-03-15 00:45:54.450 [http-nio-80-exec-5] "GET /ws/ep/073/mnc01e2p/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:45:54.450 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=mnc01e2p]
2024-03-15 00:45:54.458 [clientInboundChannel-369] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=mnc01e2p
2024-03-15 00:45:54.462 [clientInboundChannel-361] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=mnc01e2p, lookupDestination='/queue/chat'
2024-03-15 00:45:54.463 [clientInboundChannel-361] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:45:54.462 [clientInboundChannel-375] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=mnc01e2p
2024-03-15 00:45:56.685 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:45:56.685 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434756664", parameters={masked}
2024-03-15 00:45:56.686 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:45:56.687 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:56.687 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434756664
2024-03-15 00:45:56.687 [http-nio-80-exec-8] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:56.691 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:45:56.692 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:56.693 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:56.695 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:45:56.695 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:45:56.697 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:45:56.699 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:45:56.700 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:45:56.702 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:45:56.702 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:45:56.703 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:45:56.705 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:56.705 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:45:56.706 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:56.707 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:56.707 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:45:56.708 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:56.709 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:56.709 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:45:56.710 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:56.710 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:56.711 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:45:56.711 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:56.712 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:56.712 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:45:56.713 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:56.714 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:56.714 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:45:56.715 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:56.716 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:56.716 [http-nio-80-exec-9] "GET /ws/ep/339/onongj35/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/339/onongj35/websocket", parameters={}
2024-03-15 00:45:56.716 [http-nio-80-exec-9] "GET /ws/ep/339/onongj35/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:45:56.716 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:45:56.717 [http-nio-80-exec-9] "GET /ws/ep/339/onongj35/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/339/onongj35/websocket
2024-03-15 00:45:56.717 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:56.718 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:45:56.718 [http-nio-80-exec-9] "GET /ws/ep/339/onongj35/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:45:56.718 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:45:56.719 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=onongj35]
2024-03-15 00:45:56.719 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:45:56.720 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:45:56.720 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:45:56.721 [http-nio-80-exec-4] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:45:56.724 [clientInboundChannel-360] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=onongj35
2024-03-15 00:45:56.731 [clientInboundChannel-374] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=onongj35, lookupDestination='/queue/chat'
2024-03-15 00:45:56.731 [clientInboundChannel-374] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:45:56.731 [clientInboundChannel-376] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=onongj35
2024-03-15 00:46:00.948 [http-nio-80-exec-3] "OPTIONS /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/category/show", parameters={}
2024-03-15 00:46:00.952 [http-nio-80-exec-3] "OPTIONS /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CategoryController#show()
2024-03-15 00:46:00.956 [http-nio-80-exec-3] "OPTIONS /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:00.963 [http-nio-80-exec-1] "OPTIONS /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/position/sort", parameters={}
2024-03-15 00:46:00.963 [http-nio-80-exec-10] "OPTIONS /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/company/find", parameters={}
2024-03-15 00:46:00.963 [http-nio-80-exec-7] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/category/show", parameters={}
2024-03-15 00:46:00.963 [http-nio-80-exec-5] "OPTIONS /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/position/page/keyword?page=0&count=12&keyword=", parameters={masked}
2024-03-15 00:46:00.964 [http-nio-80-exec-10] "OPTIONS /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CompanyController#findHot()
2024-03-15 00:46:00.964 [http-nio-80-exec-1] "OPTIONS /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#sort()
2024-03-15 00:46:00.964 [http-nio-80-exec-7] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CategoryController#show()
2024-03-15 00:46:00.964 [http-nio-80-exec-5] "OPTIONS /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#pageKeyword(Integer, Integer, String)
2024-03-15 00:46:00.964 [http-nio-80-exec-10] "OPTIONS /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:00.964 [http-nio-80-exec-1] "OPTIONS /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:00.964 [http-nio-80-exec-5] "OPTIONS /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:00.965 [http-nio-80-exec-7] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==>  Preparing: SELECT * FROM category where delete_time is null LIMIT 0,9
2024-03-15 00:46:00.965 [http-nio-80-exec-7] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - ==> Parameters: 
2024-03-15 00:46:00.967 [http-nio-80-exec-8] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/company/find", parameters={}
2024-03-15 00:46:00.967 [http-nio-80-exec-4] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/sort", parameters={}
2024-03-15 00:46:00.967 [http-nio-80-exec-8] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.CompanyController#findHot()
2024-03-15 00:46:00.967 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/keyword?page=0&count=12&keyword=", parameters={masked}
2024-03-15 00:46:00.967 [http-nio-80-exec-4] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#sort()
2024-03-15 00:46:00.967 [http-nio-80-exec-7] "GET /recruit/category/show HTTP/1.1" DEBUG com.recruit.mapper.CategoryMapper.show - <==      Total: 9
2024-03-15 00:46:00.967 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#pageKeyword(Integer, Integer, String)
2024-03-15 00:46:00.967 [http-nio-80-exec-7] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:00.967 [http-nio-80-exec-7] "GET /recruit/category/show HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CategoryDO(name=Java开发, description=这个分类是Java开发), CategoryDO(name=C++开发, description=这个分类是C++开发), C (truncated)...]
2024-03-15 00:46:00.967 [http-nio-80-exec-8] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==>  Preparing: SELECT * FROM `company` where delete_time is null and state = 1 LIMIT 0,8
2024-03-15 00:46:00.967 [http-nio-80-exec-8] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - ==> Parameters: 
2024-03-15 00:46:00.968 [http-nio-80-exec-7] "GET /recruit/category/show HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:00.968 [http-nio-80-exec-8] "GET /recruit/company/find HTTP/1.1" DEBUG com.recruit.mapper.CompanyMapper.findHotCompany - <==      Total: 8
2024-03-15 00:46:00.968 [http-nio-80-exec-8] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:00.968 [http-nio-80-exec-8] "GET /recruit/company/find HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CompanyDO(name=阿里巴巴, foreignName=Alibaba, city=中国杭州1, logo=https://bjck.xilikeli.cn/61007a1aced342c (truncated)...]
2024-03-15 00:46:00.968 [http-nio-80-exec-4] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==>  Preparing: SELECT p.*,c.name as company_name,c.logo FROM position p,company c where p.company_id = c.id and p.delete_time is null and p.state = 1 ORDER BY hits desc LIMIT 0,8
2024-03-15 00:46:00.968 [http-nio-80-exec-4] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - ==> Parameters: 
2024-03-15 00:46:00.968 [http-nio-80-exec-8] "GET /recruit/company/find HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:00.969 [http-nio-80-exec-4] "GET /recruit/position/sort HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.sortByHits - <==      Total: 8
2024-03-15 00:46:00.969 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = 1 AND p.delete_time IS NULL AND p.title LIKE concat('%', ?, '%')
2024-03-15 00:46:00.969 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String)
2024-03-15 00:46:00.969 [http-nio-80-exec-4] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:00.969 [http-nio-80-exec-4] "GET /recruit/position/sort HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[PositionResultDO(CategoryName=null, CompanyName=阿里巴巴, CompanyDesc=null, logo=https://bjck.xilikeli. (truncated)...]
2024-03-15 00:46:00.970 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,c.logo as logo,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = 1 and p.delete_time is null and p.title like concat('%',?,'%') LIMIT ?
2024-03-15 00:46:00.970 [http-nio-80-exec-4] "GET /recruit/position/sort HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:00.970 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - ==> Parameters: (String), 12(Long)
2024-03-15 00:46:00.971 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPageByKeyword - <==      Total: 12
2024-03-15 00:46:00.971 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:00.971 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:46:00.972 [http-nio-80-exec-9] "GET /recruit/position/page/keyword HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:19.782 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/recruit/user/login", parameters={}
2024-03-15 00:46:19.784 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#login(LoginDTO)
2024-03-15 00:46:19.786 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LoginDTO(username=user, password=123456)]
2024-03-15 00:46:19.793 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (username = ?)
2024-03-15 00:46:19.794 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: user(String)
2024-03-15 00:46:19.795 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:46:19.796 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserIdentityMapper.selectOne - ==>  Preparing: SELECT id,user_id,identity_type,identifier,credential,create_time,update_time,delete_time FROM user_identity WHERE delete_time IS NULL AND (user_id = ? AND identity_type = ? AND identifier = ?)
2024-03-15 00:46:19.797 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserIdentityMapper.selectOne - ==> Parameters: 4(Integer), USERNAME_PASSWORD(String), user(String)
2024-03-15 00:46:19.798 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG com.recruit.mapper.UserIdentityMapper.selectOne - <==      Total: 1
2024-03-15 00:46:19.945 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:19.945 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [Tokens{accessToken='eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZGVudGl0eSI6NCwic2NvcGUiOiJsaW4iLCJ0eXB (truncated)...]
2024-03-15 00:46:19.945 [http-nio-80-exec-6] "POST /recruit/user/login HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:19.948 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/user/permissions", parameters={}
2024-03-15 00:46:19.948 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#getPermissions()
2024-03-15 00:46:19.949 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE id=? AND delete_time IS NULL
2024-03-15 00:46:19.949 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - ==> Parameters: 4(Integer)
2024-03-15 00:46:19.950 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - <==      Total: 1
2024-03-15 00:46:19.951 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:46:19.951 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:46:19.951 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:46:19.952 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (user_id = ? AND group_id = ?)
2024-03-15 00:46:19.952 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 4(Integer), 1(Integer)
2024-03-15 00:46:19.952 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 0
2024-03-15 00:46:19.952 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectUserGroupIds - ==>  Preparing: SELECT g.id from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN `user_group` as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:19.952 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectUserGroupIds - ==> Parameters: 4(Integer)
2024-03-15 00:46:19.953 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectUserGroupIds - <==      Total: 1
2024-03-15 00:46:19.953 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG c.r.m.PermissionMapper.selectPermissionsByGroupIds - ==>  Preparing: SELECT p.id, p.name, p.module, p.mount, p.create_time, p.update_time, p.delete_time FROM permission AS p WHERE p.delete_time IS NULL AND p.mount = true AND p.id IN ( SELECT gp.permission_id FROM group_permission AS gp WHERE gp.group_id IN ( ? ) )
2024-03-15 00:46:19.953 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG c.r.m.PermissionMapper.selectPermissionsByGroupIds - ==> Parameters: 2(Integer)
2024-03-15 00:46:19.955 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG c.r.m.PermissionMapper.selectPermissionsByGroupIds - <==      Total: 13
2024-03-15 00:46:19.955 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:19.955 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [UserPermissionVO(id=4, nickname=刘同学, username=user, avatar=https://bjck.xilikeli.cn/72d0786bad734967 (truncated)...]
2024-03-15 00:46:19.955 [http-nio-80-exec-3] "GET /recruit/user/permissions HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:19.973 [http-nio-80-exec-10] "OPTIONS /recruit/user/getGroup/4 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/user/getGroup/4", parameters={}
2024-03-15 00:46:19.974 [http-nio-80-exec-10] "OPTIONS /recruit/user/getGroup/4 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#getUserGroup(Integer)
2024-03-15 00:46:19.974 [http-nio-80-exec-10] "OPTIONS /recruit/user/getGroup/4 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:19.978 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/user/getGroup/4", parameters={}
2024-03-15 00:46:19.978 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.UserController#getUserGroup(Integer)
2024-03-15 00:46:19.979 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE id=? AND delete_time IS NULL
2024-03-15 00:46:19.979 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - ==> Parameters: 4(Integer)
2024-03-15 00:46:19.980 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectById - <==      Total: 1
2024-03-15 00:46:19.980 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (user_id = ?)
2024-03-15 00:46:19.980 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 4(Integer)
2024-03-15 00:46:19.981 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:46:19.981 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:19.981 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [2]
2024-03-15 00:46:19.981 [http-nio-80-exec-5] "GET /recruit/user/getGroup/4 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:24.332 [http-nio-80-exec-1] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - OPTIONS "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:46:24.334 [http-nio-80-exec-1] "OPTIONS /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:46:24.333 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/position/page/1?page=0&count=10", parameters={masked}
2024-03-15 00:46:24.337 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.PositionController#page(Integer, Integer, Integer)
2024-03-15 00:46:24.336 [http-nio-80-exec-1] "OPTIONS /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:24.345 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT COUNT(1) FROM position p LEFT JOIN company c ON p.company_id = c.id LEFT JOIN category ca ON p.category_id = ca.id WHERE p.state = ? AND p.delete_time IS NULL
2024-03-15 00:46:24.346 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer)
2024-03-15 00:46:24.348 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==>  Preparing: SELECT p.*,c.id as company_id,c.name as company_name,c.description as company_desc,ca.id as category_id,ca.name as category_name FROM position p left join company c on p.company_id = c.id left join category ca on p.category_id = ca.id where p.state = ? and p.delete_time is null LIMIT ?
2024-03-15 00:46:24.348 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:46:24.350 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG com.recruit.mapper.PositionMapper.getPage - <==      Total: 10
2024-03-15 00:46:24.352 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:24.352 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=16, items=[PositionResultDO(CategoryName=Java开发, CompanyName=阿里巴巴, CompanyDesc= (truncated)...]
2024-03-15 00:46:24.353 [http-nio-80-exec-7] "GET /recruit/position/page/1 HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:24.358 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:46:24.358 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:46:24.361 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:46:24.361 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:46:24.362 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:46:24.363 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:46:24.363 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:46:24.363 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434784338", parameters={masked}
2024-03-15 00:46:24.363 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:46:24.363 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434784338
2024-03-15 00:46:24.363 [http-nio-80-exec-4] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:24.363 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:46:24.363 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:24.363 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:46:24.364 [http-nio-80-exec-8] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:24.405 [http-nio-80-exec-9] "GET /ws/ep/053/4g0f1mr1/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/053/4g0f1mr1/websocket", parameters={}
2024-03-15 00:46:24.406 [http-nio-80-exec-9] "GET /ws/ep/053/4g0f1mr1/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:46:24.406 [http-nio-80-exec-9] "GET /ws/ep/053/4g0f1mr1/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/053/4g0f1mr1/websocket
2024-03-15 00:46:24.408 [http-nio-80-exec-9] "GET /ws/ep/053/4g0f1mr1/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:46:24.409 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=4g0f1mr1]
2024-03-15 00:46:24.412 [clientInboundChannel-380] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=4g0f1mr1
2024-03-15 00:46:24.427 [clientInboundChannel-382] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=4g0f1mr1, lookupDestination='/queue/chat'
2024-03-15 00:46:24.428 [clientInboundChannel-382] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:46:24.428 [clientInboundChannel-383] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=4g0f1mr1
2024-03-15 00:46:26.525 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:46:26.525 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:46:26.528 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:46:26.528 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:46:26.529 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:46:26.530 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:46:26.531 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:46:26.531 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:46:26.533 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:46:26.534 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:46:26.535 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:46:26.535 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:46:26.536 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:46:26.537 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:26.538 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:46:26.539 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:26.540 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:26.540 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:46:26.540 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:26.541 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:26.541 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:46:26.542 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:26.543 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:26.543 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:46:26.544 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:26.545 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:26.545 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:46:26.545 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:26.546 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:26.546 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:46:26.547 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:26.547 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:26.548 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:46:26.548 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:26.549 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:26.549 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:46:26.550 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:26.551 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:26.551 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:46:26.552 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434786518", parameters={masked}
2024-03-15 00:46:26.552 [http-nio-80-exec-3] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:26.553 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:46:26.554 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434786518
2024-03-15 00:46:26.554 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:26.563 [http-nio-80-exec-5] "GET /ws/ep/818/ouikwgla/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/818/ouikwgla/websocket", parameters={}
2024-03-15 00:46:26.564 [http-nio-80-exec-5] "GET /ws/ep/818/ouikwgla/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:46:26.564 [http-nio-80-exec-5] "GET /ws/ep/818/ouikwgla/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/818/ouikwgla/websocket
2024-03-15 00:46:26.566 [http-nio-80-exec-5] "GET /ws/ep/818/ouikwgla/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:46:26.567 [http-nio-80-exec-5] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=ouikwgla]
2024-03-15 00:46:26.570 [clientInboundChannel-364] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=ouikwgla
2024-03-15 00:46:26.573 [clientInboundChannel-361] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=ouikwgla, lookupDestination='/queue/chat'
2024-03-15 00:46:26.574 [clientInboundChannel-361] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:46:26.574 [clientInboundChannel-361] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=ouikwgla
2024-03-15 00:46:31.541 [clientInboundChannel-360] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=ouikwgla, lookupDestination='/ws/chat'
2024-03-15 00:46:31.542 [clientInboundChannel-360] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:46:31.543 [clientInboundChannel-360] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":"刘同学","content":"hi","date":"20...(truncated)
2024-03-15 00:46:31.543 [clientInboundChannel-360] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 6 sessions.
2024-03-15 00:46:41.600 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=4g0f1mr1] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:46:41.601 [http-nio-80-exec-9] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 4g0f1mr1
2024-03-15 00:46:41.601 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=mnc01e2p] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:46:41.601 [http-nio-80-exec-2] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session mnc01e2p
2024-03-15 00:46:41.602 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=ouikwgla] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:46:41.602 [http-nio-80-exec-2] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session ouikwgla
2024-03-15 00:46:41.600 [http-nio-80-exec-8] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=onongj35] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:46:41.603 [http-nio-80-exec-8] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session onongj35
2024-03-15 00:46:41.605 [clientInboundChannel-376] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=mnc01e2p
2024-03-15 00:46:41.607 [clientInboundChannel-384] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=ouikwgla
2024-03-15 00:46:41.607 [clientInboundChannel-376] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=onongj35
2024-03-15 00:46:41.607 [clientInboundChannel-379] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=4g0f1mr1
2024-03-15 00:46:41.608 [clientOutboundChannel-222] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=mnc01e2p}], simpSessionId=mnc01e2p}]
2024-03-15 00:46:41.608 [clientOutboundChannel-224] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=onongj35}], simpSessionId=onongj35}]
2024-03-15 00:46:41.609 [clientOutboundChannel-223] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=ouikwgla}], simpSessionId=ouikwgla}]
2024-03-15 00:46:41.609 [clientOutboundChannel-225] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=4g0f1mr1}], simpSessionId=4g0f1mr1}]
2024-03-15 00:46:42.102 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:46:42.103 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:46:42.107 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:46:42.107 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:46:42.109 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:46:42.110 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:46:42.110 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:46:42.111 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:46:42.112 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:42.112 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:46:42.114 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:42.119 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:46:42.119 [http-nio-80-exec-5] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434802103", parameters={masked}
2024-03-15 00:46:42.120 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:46:42.120 [http-nio-80-exec-5] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:46:42.120 [http-nio-80-exec-5] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434802103
2024-03-15 00:46:42.120 [http-nio-80-exec-5] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:42.122 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:46:42.122 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:46:42.123 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:46:42.124 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:46:42.124 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:46:42.125 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:46:42.127 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:46:42.127 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:46:42.128 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:46:42.128 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:46:42.129 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:46:42.130 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:42.130 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:46:42.131 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:42.132 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:42.132 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:46:42.133 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:42.134 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:42.134 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:46:42.136 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:42.138 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:42.138 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:46:42.140 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:42.140 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:42.141 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:46:42.143 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:42.144 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:42.144 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:46:42.145 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:42.145 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:42.145 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:46:42.146 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:42.146 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:46:42.146 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:46:42.146 [http-nio-80-exec-1] "GET /ws/ep/562/qzocp5qq/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/562/qzocp5qq/websocket", parameters={}
2024-03-15 00:46:42.146 [http-nio-80-exec-1] "GET /ws/ep/562/qzocp5qq/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:46:42.146 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:46:42.146 [http-nio-80-exec-1] "GET /ws/ep/562/qzocp5qq/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/562/qzocp5qq/websocket
2024-03-15 00:46:42.147 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:46:42.147 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:46:42.147 [http-nio-80-exec-10] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:46:42.148 [http-nio-80-exec-1] "GET /ws/ep/562/qzocp5qq/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:46:42.148 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=qzocp5qq]
2024-03-15 00:46:42.157 [clientInboundChannel-363] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=qzocp5qq
2024-03-15 00:46:42.167 [clientInboundChannel-360] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=qzocp5qq, lookupDestination='/queue/chat'
2024-03-15 00:46:42.167 [clientInboundChannel-360] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:46:42.168 [clientInboundChannel-360] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=qzocp5qq
2024-03-15 00:46:45.401 [clientInboundChannel-379] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=qzocp5qq, lookupDestination='/ws/chat'
2024-03-15 00:46:45.402 [clientInboundChannel-379] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:46:45.403 [clientInboundChannel-379] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":"刘同学","content":"hi","date":"20...(truncated)
2024-03-15 00:46:45.403 [clientInboundChannel-379] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:46:50.997 [MessageBroker-5] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 4 sessions: [4g0f1mr1, mnc01e2p, onongj35, ouikwgla]
2024-03-15 00:46:57.804 [clientInboundChannel-385] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=qzocp5qq, lookupDestination='/ws/chat'
2024-03-15 00:46:57.804 [clientInboundChannel-385] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:46:57.805 [clientInboundChannel-385] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user","fromnickname":"刘同学","content":"weishenme","dat...(truncated)
2024-03-15 00:46:57.806 [clientInboundChannel-385] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:47:02.301 [clientInboundChannel-382] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=qzocp5qq, lookupDestination='/ws/chat'
2024-03-15 00:47:02.302 [clientInboundChannel-382] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:47:02.303 [clientInboundChannel-382] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":"刘同学","content":"a \n","date":"...(truncated)
2024-03-15 00:47:02.303 [clientInboundChannel-382] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:47:05.370 [clientInboundChannel-364] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=qzocp5qq, lookupDestination='/ws/chat'
2024-03-15 00:47:05.371 [clientInboundChannel-364] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:47:05.373 [clientInboundChannel-364] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":"刘同学","content":"a\n","date":"2...(truncated)
2024-03-15 00:47:05.374 [clientInboundChannel-364] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:47:14.977 [clientInboundChannel-363] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=jpv44qcw, lookupDestination='/ws/chat'
2024-03-15 00:47:14.978 [clientInboundChannel-363] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:47:14.980 [clientInboundChannel-363] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":"刘同学","content":"hi\n","date":"...(truncated)
2024-03-15 00:47:14.980 [clientInboundChannel-363] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 3 sessions.
2024-03-15 00:47:23.732 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=oy4nuwta] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:47:23.732 [http-nio-80-exec-1] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session oy4nuwta
2024-03-15 00:47:23.733 [clientInboundChannel-384] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=oy4nuwta
2024-03-15 00:47:23.734 [clientOutboundChannel-223] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=oy4nuwta}], simpSessionId=oy4nuwta}]
2024-03-15 00:47:27.590 [clientInboundChannel-388] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=jpv44qcw, lookupDestination='/ws/chat'
2024-03-15 00:47:27.591 [clientInboundChannel-388] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:47:27.591 [clientInboundChannel-388] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":"刘同学","content":"hi\n","date":"...(truncated)
2024-03-15 00:47:27.591 [clientInboundChannel-388] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 2 sessions.
2024-03-15 00:47:30.996 [MessageBroker-7] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [oy4nuwta]
2024-03-15 00:47:33.420 [clientInboundChannel-386] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=qzocp5qq, lookupDestination='/ws/chat'
2024-03-15 00:47:33.420 [clientInboundChannel-386] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:47:33.422 [clientInboundChannel-386] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user","fromnickname":"刘同学","content":"nihao","date":"...(truncated)
2024-03-15 00:47:33.422 [clientInboundChannel-386] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 2 sessions.
2024-03-15 00:47:43.113 [clientInboundChannel-390] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=jpv44qcw, lookupDestination='/ws/chat'
2024-03-15 00:47:43.113 [clientInboundChannel-390] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:47:43.114 [clientInboundChannel-390] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":"刘同学","content":"nihao\n","date...(truncated)
2024-03-15 00:47:43.114 [clientInboundChannel-390] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 2 sessions.
2024-03-15 00:48:50.098 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=qzocp5qq] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:48:50.098 [http-nio-80-exec-9] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session qzocp5qq
2024-03-15 00:48:50.099 [clientInboundChannel-393] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=qzocp5qq
2024-03-15 00:48:50.112 [clientOutboundChannel-234] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=qzocp5qq}], simpSessionId=qzocp5qq}]
2024-03-15 00:48:51.194 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:48:51.196 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:48:51.204 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:48:51.206 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:48:51.209 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:48:51.210 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:48:51.211 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:48:51.212 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:48:51.212 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:48:51.212 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:48:51.214 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434931204", parameters={masked}
2024-03-15 00:48:51.214 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:48:51.214 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:48:51.215 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:48:51.215 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434931204
2024-03-15 00:48:51.215 [http-nio-80-exec-10] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:48:51.216 [http-nio-80-exec-3] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:48:51.218 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:48:51.218 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:48:51.219 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:48:51.220 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:48:51.220 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:48:51.220 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:48:51.221 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:48:51.221 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:48:51.230 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:48:51.230 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:48:51.231 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:48:51.231 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:48:51.231 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:48:51.232 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:48:51.232 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:48:51.232 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:48:51.233 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:48:51.233 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:48:51.233 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:48:51.233 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:48:51.233 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:48:51.233 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:48:51.234 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:48:51.234 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:48:51.234 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:48:51.234 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:48:51.234 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:48:51.234 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:48:51.235 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:48:51.235 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:48:51.235 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:48:51.235 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:48:51.236 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:48:51.236 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:48:51.236 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:48:51.237 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:48:51.237 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:48:51.238 [http-nio-80-exec-5] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:48:51.290 [http-nio-80-exec-1] "GET /ws/ep/913/2l5wpd1n/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/913/2l5wpd1n/websocket", parameters={}
2024-03-15 00:48:51.290 [http-nio-80-exec-1] "GET /ws/ep/913/2l5wpd1n/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:48:51.291 [http-nio-80-exec-1] "GET /ws/ep/913/2l5wpd1n/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/913/2l5wpd1n/websocket
2024-03-15 00:48:51.295 [http-nio-80-exec-1] "GET /ws/ep/913/2l5wpd1n/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:48:51.300 [http-nio-80-exec-1] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=2l5wpd1n]
2024-03-15 00:48:51.303 [clientInboundChannel-396] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=2l5wpd1n
2024-03-15 00:48:51.306 [clientInboundChannel-398] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=2l5wpd1n, lookupDestination='/queue/chat'
2024-03-15 00:48:51.307 [clientInboundChannel-398] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:48:51.307 [clientInboundChannel-399] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=2l5wpd1n
2024-03-15 00:48:55.999 [MessageBroker-2] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [qzocp5qq]
2024-03-15 00:49:02.946 [http-nio-80-exec-8] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=jpv44qcw] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:49:02.947 [http-nio-80-exec-8] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session jpv44qcw
2024-03-15 00:49:02.949 [clientInboundChannel-402] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=jpv44qcw
2024-03-15 00:49:02.955 [clientOutboundChannel-236] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=jpv44qcw}], simpSessionId=jpv44qcw}]
2024-03-15 00:49:03.237 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/recruit/notify?userName=%E5%88%98%E5%90%8C%E5%AD%A6&isRead=false", parameters={masked}
2024-03-15 00:49:03.238 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.NotifyController#get(String, String)
2024-03-15 00:49:03.242 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (nickname = ?)
2024-03-15 00:49:03.243 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - ==> Parameters: 刘同学(String)
2024-03-15 00:49:03.245 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectOne - <==      Total: 1
2024-03-15 00:49:03.251 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/chat/users", parameters={}
2024-03-15 00:49:03.251 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.recruit.controller.ChatController#getUsers(Integer, Integer, Integer)
2024-03-15 00:49:03.257 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==>  Preparing: SELECT id,content,user_name,is_read,time,create_time,update_time,delete_time FROM notify WHERE delete_time IS NULL AND (user_name = ? AND is_read = ?)
2024-03-15 00:49:03.257 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - ==> Parameters: user(String), false(String)
2024-03-15 00:49:03.257 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==>  Preparing: SELECT id,name,info,`level`,create_time,update_time,delete_time FROM `group` WHERE delete_time IS NULL AND (`level` = ?)
2024-03-15 00:49:03.258 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:49:03.261 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG com.recruit.mapper.NotifyMapper.selectList - <==      Total: 10
2024-03-15 00:49:03.261 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.GroupMapper.selectOne - <==      Total: 1
2024-03-15 00:49:03.261 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:49:03.262 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[NotifyDO(content=阿里巴巴发布了职位——Java工程师，快去看看吧！, userName=user, isRead=false, time=Mon Feb 26 05:58:02 C (truncated)...]
2024-03-15 00:49:03.262 [http-nio-80-exec-6] "GET /recruit/notify HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:49:03.263 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==>  Preparing: SELECT id,user_id,group_id FROM user_group WHERE (group_id = ?)
2024-03-15 00:49:03.263 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - ==> Parameters: 1(Integer)
2024-03-15 00:49:03.263 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserGroupMapper.selectOne - <==      Total: 1
2024-03-15 00:49:03.264 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT COUNT(1) FROM `user` WHERE delete_time IS NULL AND (id <> ?)
2024-03-15 00:49:03.264 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer)
2024-03-15 00:49:03.265 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==>  Preparing: SELECT id,username,nickname,avatar,email,tel,create_time,update_time,delete_time FROM `user` WHERE delete_time IS NULL AND (id <> ?) LIMIT ?
2024-03-15 00:49:03.265 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - ==> Parameters: 1(Integer), 10(Long)
2024-03-15 00:49:03.265 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG com.recruit.mapper.UserMapper.selectPage - <==      Total: 8
2024-03-15 00:49:03.266 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/info?t=1710434943244", parameters={masked}
2024-03-15 00:49:03.266 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:49:03.266 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:49:03.266 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 4(Integer)
2024-03-15 00:49:03.266 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/info?t=1710434943244
2024-03-15 00:49:03.266 [http-nio-80-exec-9] "GET /ws/ep/info HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:49:03.267 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:49:03.267 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:49:03.267 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 5(Integer)
2024-03-15 00:49:03.267 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:49:03.268 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:49:03.268 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 6(Integer)
2024-03-15 00:49:03.268 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:49:03.269 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:49:03.269 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 7(Integer)
2024-03-15 00:49:03.269 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:49:03.269 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:49:03.269 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 8(Integer)
2024-03-15 00:49:03.270 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:49:03.270 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:49:03.270 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 9(Integer)
2024-03-15 00:49:03.270 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:49:03.270 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:49:03.270 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 13(Integer)
2024-03-15 00:49:03.271 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:49:03.271 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==>  Preparing: SELECT g.id, g.name, g.info,g.level, g.create_time,g.update_time,g.delete_time from `group` AS g WHERE g.delete_time IS NULL AND g.id IN ( SELECT ug.group_id FROM `user` AS u LEFT JOIN user_group as ug ON ug.user_id = u.id WHERE u.id = ? AND u.delete_time IS NULL )
2024-03-15 00:49:03.271 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - ==> Parameters: 17(Integer)
2024-03-15 00:49:03.271 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG c.recruit.mapper.GroupMapper.selectGroupsByUserId - <==      Total: 1
2024-03-15 00:49:03.271 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2024-03-15 00:49:03.271 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [PageResponseVO(total=8, items=[UserInfoVO(id=4, username=user, nickname=刘同学, avatar=https://bjck.xil (truncated)...]
2024-03-15 00:49:03.272 [http-nio-80-exec-2] "GET /chat/users HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
2024-03-15 00:49:03.274 [http-nio-80-exec-10] "GET /ws/ep/005/0juw2sod/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/ws/ep/005/0juw2sod/websocket", parameters={}
2024-03-15 00:49:03.274 [http-nio-80-exec-10] "GET /ws/ep/005/0juw2sod/websocket HTTP/1.1" DEBUG o.s.w.s.server.support.WebSocketHandlerMapping - Mapped to org.springframework.web.socket.sockjs.support.SockJsHttpRequestHandler@3a4d6122
2024-03-15 00:49:03.274 [http-nio-80-exec-10] "GET /ws/ep/005/0juw2sod/websocket HTTP/1.1" DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Processing transport request: GET http://localhost/ws/ep/005/0juw2sod/websocket
2024-03-15 00:49:03.275 [http-nio-80-exec-10] "GET /ws/ep/005/0juw2sod/websocket HTTP/1.1" DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 101 SWITCHING_PROTOCOLS
2024-03-15 00:49:03.275 [http-nio-80-exec-10] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - New WebSocketServerSockJsSession[id=0juw2sod]
2024-03-15 00:49:03.280 [clientInboundChannel-405] "  " DEBUG org.springframework.web.SimpLogging - Processing CONNECT session=0juw2sod
2024-03-15 00:49:03.282 [clientInboundChannel-392] "  " DEBUG org.springframework.web.SimpLogging - Processing SUBSCRIBE /queue/chat id=sub-0 session=0juw2sod
2024-03-15 00:49:03.282 [clientInboundChannel-407] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SUBSCRIBE /queue/chat id=sub-0 session=0juw2sod, lookupDestination='/queue/chat'
2024-03-15 00:49:03.282 [clientInboundChannel-407] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - No matching message handler methods.
2024-03-15 00:49:07.815 [clientInboundChannel-393] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0juw2sod, lookupDestination='/ws/chat'
2024-03-15 00:49:07.816 [clientInboundChannel-393] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:49:07.817 [clientInboundChannel-393] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user","fromnickname":"刘同学","content":"hi\n","date":"2...(truncated)
2024-03-15 00:49:07.817 [clientInboundChannel-393] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 2 sessions.
2024-03-15 00:49:10.999 [MessageBroker-7] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [jpv44qcw]
2024-03-15 00:49:11.800 [clientInboundChannel-396] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0juw2sod, lookupDestination='/ws/chat'
2024-03-15 00:49:11.801 [clientInboundChannel-396] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:49:11.802 [clientInboundChannel-396] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"user1","fromnickname":"刘同学","content":"hi\n","date":"...(truncated)
2024-03-15 00:49:11.802 [clientInboundChannel-396] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 2 sessions.
2024-03-15 00:49:23.591 [clientInboundChannel-400] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Searching methods to handle SEND /ws/chat session=0juw2sod, lookupDestination='/ws/chat'
2024-03-15 00:49:23.592 [clientInboundChannel-400] "  " DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - Invoking WsController#handleMsg[1 args]
2024-03-15 00:49:23.593 [clientInboundChannel-400] "  " DEBUG org.springframework.web.SimpLogging - Processing MESSAGE destination=/queue/chat session=null payload={"from":"user","to":"hr","fromnickname":"刘同学","content":"woke\n","date":"2...(truncated)
2024-03-15 00:49:23.593 [clientInboundChannel-400] "  " DEBUG org.springframework.web.SimpLogging - Broadcasting to 2 sessions.
2024-03-15 00:50:23.392 [http-nio-80-exec-9] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=0juw2sod] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:50:23.395 [http-nio-80-exec-9] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 0juw2sod
2024-03-15 00:50:23.405 [clientInboundChannel-409] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=0juw2sod
2024-03-15 00:50:23.405 [clientOutboundChannel-244] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=0juw2sod}], simpSessionId=0juw2sod}]
2024-03-15 00:50:26.211 [http-nio-80-exec-2] "  " DEBUG o.s.w.s.handler.LoggingWebSocketHandlerDecorator - WebSocketServerSockJsSession[id=2l5wpd1n] closed with CloseStatus[code=1000, reason=null]
2024-03-15 00:50:26.211 [http-nio-80-exec-2] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - Clearing session 2l5wpd1n
2024-03-15 00:50:26.220 [clientInboundChannel-412] "  " DEBUG org.springframework.web.SimpLogging - Processing DISCONNECT session=2l5wpd1n
2024-03-15 00:50:26.229 [clientOutboundChannel-245] "  " DEBUG o.s.w.socket.messaging.SubProtocolWebSocketHandler - No session for GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT_ACK, simpDisconnectMessage=GenericMessage [payload=byte[0], headers={simpMessageType=DISCONNECT, stompCommand=DISCONNECT, simpSessionAttributes={org.springframework.messaging.simp.SimpAttributes.COMPLETED=true}, simpSessionId=2l5wpd1n}], simpSessionId=2l5wpd1n}]
2024-03-15 00:50:30.996 [MessageBroker-3] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [0juw2sod]
2024-03-15 00:50:36.000 [MessageBroker-3] "  " DEBUG o.s.w.s.s.transport.handler.DefaultSockJsService - Closed 1 sessions: [2l5wpd1n]
2024-03-15 00:50:46.827 [SpringContextShutdownHook] "  " DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2024-03-15 00:50:46.827 [SpringContextShutdownHook] "  " DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[]]
2024-03-15 00:50:46.827 [SpringContextShutdownHook] "  " DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]
2024-03-15 00:50:46.827 [SpringContextShutdownHook] "  " DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [DefaultSubscriptionRegistry[cache[0 destination(s)], registry[0 sessions]]]
2024-03-15 00:50:46.827 [SpringContextShutdownHook] "  " DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2024-03-15 00:50:46.827 [SpringContextShutdownHook] "  " DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
